(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1001:function(e,t){},1003:function(e,t){},1173:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(20),c=a.n(r),i=(a(663),a(664),a(67)),l=a(43),s=a(10),u=a(91),m=a(632),d=a(6),p=a(445),f=a.n(p),g=a(633),E=a.n(g),v={getUser:function(){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e);return E()(t.token)}return null},saveUser:function(e){localStorage.setItem("user",JSON.stringify(e))},getToken:function(){var e=localStorage.getItem("user");if(e)return JSON.parse(e).token},removeUser:function(){localStorage.removeItem("user")}},h=f.a.create({baseURL:"http://bus-locator.online:3000/",timeout:1e4,headers:{"Content-Type":"application/json"}});h.interceptors.request.use(function(e){return e.headers.Authorization=v.getToken(),e});var b=f.a.CancelToken,O=h,N="LOADING",j="LOGIN_SUCCESS",y=function(e){return{type:N,payload:{value:e}}},C=function(e){return{type:j,payload:{value:e.data.token}}},D={isLoading:!1,token:""},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(d.a)(Object(d.a)({},e),{},{token:t.payload.value});case N:return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.payload.value});default:return Object(d.a)({},e)}},S=a(46),T="LOADING_TOTAL_USERS",L="TOTAL_USERS",A="ERROR_LOAD_TOTAL_USERS",I="TOTAL_DEVICES",P="ERROR_LOAD_TOTAL_DEVICES",x="LOADING_TOTAL_DEVICES",_="TOTAL_LINES",k="ERROR_LOAD_TOTAL_LINES",M="LOADING_TOTAL_LINES",U="USERS_NOT_AUTHORIZED",F="UPDATE_USER",R="UPDATE_SCORE",G="LOADING_SCORE",q="ERROR_LOAD_SCORE",B="REMOVE_FROM_NOT_AUTHORIZED",H=function(e){return{type:T,payload:{value:e}}},W=function(e){return{type:A,payload:{value:e}}},V=function(e){return{type:x,payload:{value:e}}},z=function(e){return{type:P,payload:{value:e}}},Y=function(e){return{type:M,payload:{value:e}}},J=function(e){return{type:k,payload:{value:e}}},X=function(e){return{type:G,payload:{value:e}}},Z=function(e){return{type:q,payload:{value:e}}},$=function(e){return{type:F,payload:{value:e}}},K=function(e){return{type:B,payload:{value:e}}},Q={totalUsers:0,isLoadingTotalUsers:!1,errorLoadTotalUsers:!1,totalDevices:0,isLoadingTotalDevices:!1,errorLoadTotalDevices:!1,totalLines:0,isLoadingTotalLines:!1,errorLoadTotalLines:!1,usersNotAuthorized:[],user:{name:"",email:"",role:""},score:[],isLoadingScore:!1,errorToLoadScore:!1},ee={UPDATE_COMPONENT_LOADING:"UPDATE_COMPONENT_LOADING"};function te(e){return{type:ee.UPDATE_COMPONENT_LOADING,payload:{value:e}}}var ae="UPDATE_EMPLOYEES",ne=function(e,t){return{type:e,payload:{value:t}}},oe={data:{docs:[],total:0,limit:10,page:1,pages:1}},re={loading:!1},ce="UPDATE_HISTORY",ie=function(e,t){return{type:e,payload:{value:t}}},le={docs:[],total:0,limit:10,page:1,pages:1},se="UPDATE_SUGGESTION",ue="UPDATE_SUGGESTION_CHOOSED",me=function(e,t){return{type:e,payload:{value:t}}},de={docs:[],total:0,limit:10,page:1,pages:1,suggestion:null},pe="UPDATE_LINES",fe="UPDATE_LINE_EDITED",ge=function(e,t){return{type:e,payload:{value:t}}},Ee={data:{docs:[],total:0,limit:10,page:1,pages:1},lineEdited:null},ve="UPDATE_DEVICE_LINES",he="ERROR_LOAD_LINES",be="UPDATE_DEVICE_NAME",Oe="UPDATE_DEVICE_DIALOG",Ne="UPDATE_LINE_VALUE",je="DEVICE_CLEAR",ye="UPDATE_DEVICES_DOCS",Ce="UPDATE_DEVICES",De="UPDATE_CURRENT_DEVICE",we=function(e){return{type:Ce,payload:{value:e}}},Se=function(e){return{type:he,payload:{value:e}}},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console.log;return function(t){t(te(!0)),t(Se(!1)),O.get("line/associate").then(function(e){var a;t(te(!1)),t((a=e.data,{type:ve,payload:{value:a}}))}).catch(function(a){t(Se(!0)),t(te(!1)),e(a)})}},Le={name:"",open:!1,lines:[],errorToLoadLines:!1,value:"",data:{docs:[],total:0,limit:10,page:1,pages:1},devices:[],currentDevice:null},Ae="UPDATE_NEWS",Ie="UPDATE_NEWS_EDITED",Pe=function(e,t){return{type:e,payload:{value:t}}},xe={data:{docs:[],total:0,limit:10,page:1,pages:1},newsEdit:null},_e=Object(u.c)({login:w,home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(d.a)(Object(d.a)({},e),{},{isLoadingTotalUsers:t.payload.value});case L:return Object(d.a)(Object(d.a)({},e),{},{totalUsers:t.payload.value});case A:return Object(d.a)(Object(d.a)({},e),{},{errorLoadTotalUsers:t.payload.value});case x:return Object(d.a)(Object(d.a)({},e),{},{isLoadingTotalDevices:t.payload.value});case I:return Object(d.a)(Object(d.a)({},e),{},{totalDevices:t.payload.value});case P:return Object(d.a)(Object(d.a)({},e),{},{errorLoadTotalDevices:t.payload.value});case M:return Object(d.a)(Object(d.a)({},e),{},{isLoadingTotalLines:t.payload.value});case _:return Object(d.a)(Object(d.a)({},e),{},{totalLines:t.payload.value});case k:return Object(d.a)(Object(d.a)({},e),{},{errorLoadTotalLines:t.payload.value});case U:return Object(d.a)(Object(d.a)({},e),{},{usersNotAuthorized:Object(S.a)(t.payload.value)});case F:return Object(d.a)(Object(d.a)({},e),{},{user:Object(d.a)({},t.payload.value)});case R:return Object(d.a)(Object(d.a)({},e),{},{score:t.payload.value});case G:return Object(d.a)(Object(d.a)({},e),{},{isLoadingScore:t.payload.value});case q:return Object(d.a)(Object(d.a)({},e),{},{errorToLoadScore:t.payload.value});case B:return Object(d.a)(Object(d.a)({},e),{},{usersNotAuthorized:Object(S.a)(e.usersNotAuthorized.filter(function(e){return e._id!==t.payload.value}))});default:return Object(d.a)({},e)}},employee:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(d.a)(Object(d.a)({},e),{},{data:Object(d.a)({},t.payload.value)});default:return Object(d.a)({},e)}},component:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.UPDATE_COMPONENT_LOADING:return Object(d.a)(Object(d.a)({},e),{},{loading:t.payload.value});default:return Object(d.a)({},e)}},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(d.a)(Object(d.a)({},e),t.payload.value);default:return Object(d.a)({},e)}},suggestion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return Object(d.a)(Object(d.a)({},e),t.payload.value);case ue:return Object(d.a)(Object(d.a)({},e),{},{suggestion:Object(d.a)({},t.payload.value)});default:return Object(d.a)({},e)}},line:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Object(d.a)(Object(d.a)({},e),{},{data:Object(d.a)({},t.payload.value),lineEdited:null});case fe:return Object(d.a)(Object(d.a)({},e),{},{lineEdited:Object(d.a)({},t.payload.value)});default:return Object(d.a)({},e)}},device:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return Object(d.a)(Object(d.a)({},e),{},{name:t.payload.value});case ve:return Object(d.a)(Object(d.a)({},e),{},{lines:t.payload.value});case ye:return Object(d.a)(Object(d.a)({},e),{},{data:t.payload.value});case Ce:return Object(d.a)(Object(d.a)({},e),{},{devices:t.payload.value,currentDevice:null});case De:return Object(d.a)(Object(d.a)({},e),{},{currentDevice:t.payload.value});case Oe:return Object(d.a)(Object(d.a)({},e),{},{open:t.payload.value});case he:return Object(d.a)(Object(d.a)({},e),{},{errorToLoadLines:t.payload.value});case Ne:return Object(d.a)(Object(d.a)({},e),{},{open:!1,value:t.payload.value||e.value});case je:return Object(d.a)(Object(d.a)({},e),{},{open:!1,name:"",lines:[],value:""});default:return Object(d.a)({},e)}},news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return Object(d.a)(Object(d.a)({},e),{},{data:Object(d.a)({},t.payload.value),newsEdit:null});case Ie:return Object(d.a)(Object(d.a)({},e),{},{newsEdit:Object(d.a)({},t.payload.value)});default:return Object(d.a)({},e)}}}),ke=Object(u.e)(_e,Object(u.a)(m.a)),Me=a(18),Ue=(a(687),a(13)),Fe=a(49),Re=a(463),Ge=a(465),qe=a(70),Be=a(627),He=a(466),We=a(635),Ve=a.n(We),ze=a(92),Ye=a(636),Je=a.n(Ye),Xe=Object(ze.a)({root:{minHeight:"100vh"},contentLogo:{color:"#FFF",flex:2,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif;',"@media (max-width: 1200px)":{display:"none"},background:"url(".concat(Je.a,") no-repeat center center"),backgroundSize:"cover",position:"relative"},tabs:{marginBottom:16},fields:{flex:1.4},textTab:{fontSize:"20px"},textPresent:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif;',color:"#4A4A4A"},textFields:{margin:"16px 0px"},contentForgotPassword:{width:"70%",height:"80%"},linearProgress:{position:"absolute",top:0,left:0,width:"100%"},addMarginBottom:{marginBottom:10},content:{padding:"0px 16px"},backgroundFilter:{position:"absolute",top:0,left:0,bottom:0,right:0,background:"linear-gradient(to bottom, rgba(211, 218, 222, 0.8) 14%, rgba(200, 213, 226, 0.8) 45%, rgba(57, 143, 241, 0.8) 100%)"}}),Ze=a(25),$e=a(311),Ke=a(175),Qe=function(e){var t=e.onClick,a=e.onClickRecoverPassword;Object(n.useEffect)(function(){var e=function(e){"Enter"!==e.key||m()||t(l)};return document.addEventListener("keypress",e),function(){return document.removeEventListener("keypress",e)}});var r=Xe(),c=Object(n.useState)({email:"",password:""}),i=Object(Ue.a)(c,2),l=i[0],s=i[1],u=function(e){return function(a){s(Object(d.a)(Object(d.a)({},l),{},Object(Ze.a)({},e,a.target.value))),m()||13!==a.keyCode||t(l)}},m=function(e){return!l.email||!l.password};return o.a.createElement(o.a.Fragment,null,o.a.createElement(Re.a,{className:r.content,container:!0,direction:"column"},o.a.createElement($e.a,{onChange:u("email"),label:"Email",margin:"normal",className:r.textFields,placeholder:"Informe email"}),o.a.createElement($e.a,{onChange:u("password"),className:r.textFields,label:"Senha",margin:"normal",type:"password",placeholder:"Informe senha"}),o.a.createElement(Re.a,{container:!0,justify:"space-between"},o.a.createElement(Ke.a,{onClick:function(e){return t(l)},disabled:m(),variant:"contained",color:"primary"},"Entrar"),o.a.createElement(Ke.a,{onClick:a,color:"primary"},"Esqueceu a senha?"))))},et=a(319),tt=a.n(et),at=function(e){var t=e.onClick,a=Xe(),r=Object(n.useState)({name:"",email:"",cpf:"",password:"",confirmPassword:""}),c=Object(Ue.a)(r,2),i=c[0],l=c[1],s=function(e){return function(t){l(Object(d.a)(Object(d.a)({},i),{},Object(Ze.a)({},e,t.target.value)))}};return o.a.createElement(o.a.Fragment,null,o.a.createElement(Re.a,{className:a.content,container:!0,direction:"column"},o.a.createElement($e.a,{onChange:s("name"),label:"Nome",margin:"normal",className:a.textFields,placeholder:"Informe email"}),o.a.createElement($e.a,{onChange:s("email"),label:"Email",margin:"normal",className:a.textFields,placeholder:"Informe email"}),o.a.createElement(tt.a,{mask:"999.999.999-99",onChange:s("cpf")},function(e){return o.a.createElement($e.a,Object.assign({},e,{label:"Cpf",margin:"normal",className:a.textFields}))}),o.a.createElement($e.a,{onChange:s("password"),label:"Senha",margin:"normal",type:"password",className:a.textFields,placeholder:"Informe senha"}),o.a.createElement($e.a,{onChange:s("confirmPassword"),label:"Confirme senha",margin:"normal",type:"password",className:a.textFields,placeholder:"Informe senha"}),o.a.createElement(Ke.a,{onClick:function(){return t(i)},disabled:function(){if(i){var e=i.email,t=i.cpf,a=i.password,n=i.confirmPassword,o=i.name;return!(e&&t&&a&&n&&o)}return!0}(),variant:"contained",color:"primary"},"Entrar")))},nt=function(e){var t=Xe(),a=Object(n.useState)(""),r=Object(Ue.a)(a,2),c=r[0],i=r[1];return o.a.createElement(Re.a,{item:!0,container:!0,direction:"column",justify:"flex-start",className:t.contentForgotPassword},o.a.createElement("h2",{className:t.textPresent},"Recuperar senha:"),o.a.createElement($e.a,{className:t.textFields,label:"Email",margin:"normal",variant:"outlined",placeholder:"Informe email",onChange:function(e){return i(e.target.value)}}),o.a.createElement(Ke.a,{disabled:!c,className:t.addMarginBottom,variant:"contained",color:"primary",onClick:function(){return e.recoverPassword(c)}},"Enviar"),o.a.createElement(Ke.a,{onClick:e.goBack},"Voltar"))},ot=Object(Me.b)(function(e){return{isLoading:e.login.isLoading}},{requestLogin:function(e,t,a){return function(n){n(y(!0)),O.post("auth/employee",e).then(function(e){n(y(!1)),n(C(e)),v.saveUser(e.data),t()}).catch(function(e){n(y(!1)),e.response?a("Sem permiss\xe3o para acesso"):a("Falha de comunica\xe7\xe3o com o servidor")})}},createAccount:function(e,t,a){return function(n){n(y(!0)),O.post("employee",e).then(function(e){n(y(!1)),t()}).catch(function(e){n(y(!1)),a("Error ao criar conta")})}},recoverPassword:function(e,t,a){return function(n){n(y(!0)),O.post("employee/recover-password",{email:e}).then(function(e){n(y(!1)),t()}).catch(function(e){n(y(!1)),a("Error ao recuperar senha")})}}})(function(e){var t=Object(n.useState)(0),a=Object(Ue.a)(t,2),r=a[0],c=a[1],i=function(e,t){return c(t)},u=Xe(),m=Object(Fe.a)();function d(e){c(e)}Object(n.useEffect)(function(){v.getUser()&&e.history.push("/home")},[]);var p=function(t){e.isLoading||(t.password!==t.confirmPassword?s.a.error("Senhas diferentes"):e.createAccount(t,function(){return s.a.success("Conta criada com sucesso, confirme no seu email")},function(e){return s.a.error(e)}))},f=function(t){e.isLoading||e.requestLogin(t,function(){s.a.success("Login efetuado com sucesso",{autoClose:2e3}),e.history.push("/home")},function(e){return s.a.error(e)})},g=function(t){e.recoverPassword(t,function(){return s.a.success("Verifique seu email")},function(e){return s.a.error(e)})};return o.a.createElement(o.a.Fragment,null,o.a.createElement(Re.a,{container:!0,className:u.root,wrap:"nowrap"},e.isLoading&&o.a.createElement(Ge.a,{className:u.linearProgress}),o.a.createElement(Re.a,{container:!0,justify:"center",alignItems:"center",item:!0,className:u.contentLogo},o.a.createElement("div",{className:u.backgroundFilter}),o.a.createElement(qe.a,{style:{zIndex:10},variant:"h1"},"Bus Locator")),o.a.createElement(Re.a,{item:!0,container:!0,direction:"column",justify:"center",alignItems:"center",className:u.fields},o.a.createElement(l.b,{path:e.match.url,exact:!0,render:function(){return o.a.createElement(Re.a,{item:!0,container:!0,direction:"column",alignItems:"center",justify:"center",style:{width:"80%"}},o.a.createElement(Be.a,{className:u.tabs,variant:"fullWidth",value:r,onChange:i,indicatorColor:"primary",textColor:"primary"},o.a.createElement(He.a,{className:u.textTab,label:"Entrar"}),o.a.createElement(He.a,{className:u.textTab,label:"Nova Conta"})),o.a.createElement(qe.a,{variant:"h5",className:u.textPresent},"Bem vindo"),o.a.createElement(Ve.a,{axis:"rtl"===m.direction?"x-reverse":"x",index:r,onChangeIndex:d},o.a.createElement(Qe,{onClick:f,onClickRecoverPassword:function(){return e.history.push("/login/forgot-password")}}),o.a.createElement(at,{onClick:p})))}}),o.a.createElement(l.b,{path:e.match.url+"/forgot-password",exact:!0,render:function(){return o.a.createElement(nt,{goBack:e.history.goBack,recoverPassword:g})}}))),o.a.createElement(l.a,{from:"*",to:"/login"}))}),rt=Object(ze.a)({maxContainer:{minHeight:"100vh"},linearProgress:{position:"fixed",top:0,left:0,width:"100%",zIndex:1e4},container:{padding:16},marginVertical:{margin:function(e){return"".concat(e.marginVertical," 0px")}},maxWidth:{width:"100%"},maxHeight:{height:"100%"}}),ct=a(428),it=a(429),lt=a(467),st=a(430),ut=a(468),mt=a(431),dt=o.a.forwardRef(function(e,t){return o.a.createElement(ct.a,Object.assign({direction:"down",ref:t},e))}),pt=function(e){return o.a.createElement(it.a,{open:e.open,TransitionComponent:function(){if(e.transition&&"Slide"===e.transition)return dt}(),keepMounted:!0,onClose:e.onClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement(lt.a,{id:"alert-dialog-slide-title"},e.title),o.a.createElement(st.a,null,o.a.createElement(ut.a,{id:"alert-dialog-slide-description"},e.message)),o.a.createElement(mt.a,null,o.a.createElement(Ke.a,{onClick:e.negativeAction,color:"primary"},e.negativeButton),o.a.createElement(Ke.a,{onClick:e.positiveAction,color:"primary"},e.positiveButton)))},ft=a(637),gt=a.n(ft),Et=Object(ze.a)(function(e){return{appBar:{boxShadow:"none",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px) !important"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},toolbar:{backgroundColor:"#FFF",borderBottom:"1px solid #DFE3E8"},title:{flexGrow:1,color:"#000"},paper:{boxShadow:"none",border:"1px solid #DFE3E8",padding:16,color:"#66788A"},content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"#f8fafc"},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:240,width:"calc(100% - ".concat(240,"px) !important")},result:{color:"#000"},contentIcon:{flex:1},contentInformation:{flex:2},icon:{backgroundColor:"#45B880",color:"#FFF",padding:16,fontSize:50,borderRadius:"50%"},popoverHeader:{backgroundImage:"url(".concat(gt.a,")"),backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundColor:"#f8fafc",backgroundPosition:"right",width:350,padding:30},removePadding:{padding:0},contentCard:{padding:16},card:{marginTop:5},drawer:{width:240,flexShrink:0},drawerPaper:{width:240}}}),vt=a(1192),ht=a(1193),bt=a(1190),Ot=a(1191),Nt=a(1194),jt=a(472),yt=a(432),Ct=a(470),Dt=a(473),wt=a(471),St=a(474),Tt=a(433),Lt=a(243),At=a(317),It=a(426),Pt={COMMON:"COMMON",ADMIN:"ADMIN"},xt={ENABLED:"ENABLED",PENDING:"PEDING",NOT_AUTHORIZED:"NOT_AUTHORIZED"},_t={HOME:"/home/dashboard",EMPLOYEES:"/home/employess",ACCOUNT:"/home/account",HISTORY:"/home/history",SUGGESTION:"/home/suggestion",DEVICES:"/home/devices",ADD_DEVICES:"/home/devices/add",LINES:"/home/lines",ADD_LINES:"/home/lines/add",MAP:"/home/maps",LOGIN:"/login",NEWS:"/home/news",ADD_NEWS:"/home/news/add"},kt=a(469),Mt=a(82),Ut=a(1181),Ft=a(1182),Rt=a(1183),Gt=a(1184),qt=a(1185),Bt=a(1186),Ht=a(1187),Wt=a(1188),Vt=a(1189),zt=a(3),Yt=a(638),Jt=a.n(Yt),Xt=Object(ze.a)({header:{height:200},listItem:{cursor:"pointer",margin:"8px 0px",borderLeft:"4px solid transparent","&:hover":{borderLeft:"4px solid #0767DB",borderRadius:4,backgroundColor:"#F6F9FD",color:"#0767DB !important"},"&:hover $icon":{color:"#0767DB !important"}},activeRoute:{borderLeft:"4px solid #0767DB",borderRadius:4,backgroundColor:"#F6F9FD"},listItemText:{fontWeight:500,color:"#66788A",marginLeft:8},listItemActive:{color:"#12161B"},iconActive:{color:"#0767DB !important"},icon:{minWidth:"unset !important",fontWeight:500,color:"#66788A"},list:{paddingLeft:8},img:{backgroundRepeat:"no-repeat",backgroundSize:"contain",height:"15vh"}}),Zt=Object(l.g)(function(e){var t=Object(Me.d)(function(e){return e.home.user}),a=e.onClose,n=e.open,r=e.location.pathname,c=Et(),i=Xt(),l=t.role===Pt.ADMIN,s=[{icon:o.a.createElement(Ut.a,null),text:"Painel de controle",url:_t.HOME,show:l,isActive:r.includes(_t.HOME),onClick:function(){r!==_t.HOME&&u(_t.HOME)}},{icon:o.a.createElement(Ft.a,null),text:"Mapa",url:_t.MAP,show:!0,isActive:r.includes(_t.MAP),onClick:function(){r!==_t.MAP&&u(_t.MAP)}},{icon:o.a.createElement(Rt.a,null),text:"Minha Conta",url:_t.ACCOUNT,show:!0,isActive:r.includes(_t.ACCOUNT),onClick:function(){r!==_t.ACCOUNT&&u(_t.ACCOUNT)}},{icon:o.a.createElement(Gt.a,null),text:"Funcion\xe1rios",url:_t.EMPLOYEES,show:!0,isActive:r.includes(_t.EMPLOYEES),onClick:function(){r!==_t.EMPLOYEES&&u(_t.EMPLOYEES)}},{icon:o.a.createElement(qt.a,null),text:"Hist\xf3rico",url:_t.HISTORY,show:l,isActive:r.includes(_t.HISTORY),onClick:function(){r!==_t.HISTORY&&u(_t.HISTORY)}},{icon:o.a.createElement(Bt.a,null),text:"D\xfavidas e sugest\xf5es",url:_t.SUGGESTION,show:!0,isActive:r.includes(_t.SUGGESTION),onClick:function(){r!==_t.SUGGESTION&&u(_t.SUGGESTION)}},{icon:o.a.createElement(Ht.a,null),text:"Dispositivos",url:_t.DEVICES,show:!0,isActive:r.includes(_t.DEVICES),onClick:function(){r!==_t.DEVICES&&u(_t.DEVICES)}},{icon:o.a.createElement(Wt.a,null),text:"Linhas",url:_t.LINES,show:!0,isActive:r.includes(_t.LINES),onClick:function(){r!==_t.LINES&&u(_t.LINES)}},{icon:o.a.createElement(Vt.a,null),text:"Not\xedcias",url:_t.NEWS,show:!0,isActive:r.includes(_t.NEWS),onClick:function(){r!==_t.NEWS&&u(_t.NEWS)}}];function u(t){e.history.push(t)}return o.a.createElement(Mt.a,{variant:"persistent",onClose:a,className:c.drawer,anchor:"left",open:n,classes:{paper:c.drawerPaper}},o.a.createElement(wt.a,null),o.a.createElement(Re.a,{container:!0,justify:"center",direction:"column",alignItems:"center",className:i.header},o.a.createElement("img",{className:i.img,src:Jt.a,alt:"logo"}),o.a.createElement(qe.a,{variant:"h6"},t.name),o.a.createElement("span",null,t.email)),o.a.createElement(wt.a,null),o.a.createElement(It.a,{className:i.list},s.map(function(e,t){return e.show?o.a.createElement(yt.a,{key:t.toString(),onClick:e.onClick,className:Object(zt.a)(i.listItem,Object(Ze.a)({},i.activeRoute,e.isActive))},o.a.createElement(kt.a,{className:Object(zt.a)(i.icon,Object(Ze.a)({},i.iconActive,e.isActive))},e.icon),o.a.createElement(Ct.a,{className:Object(zt.a)(i.listItemText,Object(Ze.a)({},i.listItemActive,e.isActive))},e.text)):null})))}),$t=Object(l.g)(function(e){var t,a=(t={},Object(Ze.a)(t,_t.HOME,"Painel de controle"),Object(Ze.a)(t,_t.EMPLOYEES,"Funcion\xe1rios"),Object(Ze.a)(t,_t.ACCOUNT,"Minha Conta"),Object(Ze.a)(t,_t.HISTORY,"Hist\xf3rico"),Object(Ze.a)(t,_t.SUGGESTION,"D\xfavidas e sugest\xf5es"),Object(Ze.a)(t,_t.DEVICES,"Dipositivos"),Object(Ze.a)(t,_t.ADD_DEVICES,"Adicionar dispositivo"),Object(Ze.a)(t,_t.LINES,"Linhas"),Object(Ze.a)(t,_t.ADD_LINES,"Adicionar linha"),Object(Ze.a)(t,_t.MAP,"Mapa"),Object(Ze.a)(t,_t.NEWS,"Not\xedcias"),t),r=Object(Me.d)(function(e){return e.home.user}),c=rt(),i=Et(),l=Object(n.useState)(!1),s=Object(Ue.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(!1),p=Object(Ue.a)(d,2),f=p[0],g=p[1],E=Object(n.useState)(null),v=Object(Ue.a)(E,2),h=v[0],b=v[1],O=e.usersNotAuthorized.length,N=function(){return m(!u)},j=function(){e.onDrawer(!f),g(!f)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(St.a,{position:"relative",className:Object(zt.a)(i.appBar,Object(Ze.a)({},i.appBarShift,f))},o.a.createElement(Tt.a,{className:i.toolbar},o.a.createElement(Lt.a,{onClick:j,edge:"start",className:c.menuButton,"aria-label":"Open drawer"},f?o.a.createElement(vt.a,null):o.a.createElement(ht.a,null)),o.a.createElement(qe.a,{variant:"h6",className:i.title},a[e.location.pathname]||"Painel de controle"),r&&r.role===Pt.ADMIN&&o.a.createElement(Lt.a,{onClick:function(e){O&&(b(u?null:e.currentTarget),m(!u))}},O?o.a.createElement(jt.a,{badgeContent:O,color:"secondary"},o.a.createElement(bt.a,null)):o.a.createElement(bt.a,null)),o.a.createElement(Lt.a,{onClick:e.handleClose},o.a.createElement(Nt.a,null)))),o.a.createElement(At.a,{open:u,anchorEl:h,onClose:N,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Re.a,{className:i.popoverHeader},o.a.createElement(qe.a,{variant:"h5"},"Solicita\xe7\xe3o de entrada")),o.a.createElement(Re.a,null,o.a.createElement(It.a,{className:i.removePadding},e.usersNotAuthorized.map(function(t){return o.a.createElement(o.a.Fragment,{key:t._id},o.a.createElement(yt.a,{onClick:function(){N(),e.onSelectedUser(t)},button:!0,className:i.content},o.a.createElement(Ct.a,{primary:t.name,secondary:t.email}),o.a.createElement(Dt.a,null,o.a.createElement(Ot.a,null))),o.a.createElement(wt.a,null))})))),o.a.createElement(Zt,{onClose:j,open:f}))}),Kt=a(475),Qt=a(628),ea=Object(ze.a)({field:{flex:1},information:{flex:3},checkBox:{paddingLeft:0,"&:hover":{backgroundColor:"transparent !important"}}}),ta=function(e){var t=Object(Me.c)(),a=e.user;a||(a={name:"",email:"",cpf:"",role:Pt.COMMON});var r=a.role===Pt.ADMIN,c=ea(),i=Object(n.useState)(),l=Object(Ue.a)(i,2),s=l[0],u=l[1],m=Object(n.useState)(!1),d=Object(Ue.a)(m,2),p=d[0],f=d[1];function g(){var n={name:a.name,cpf:a.cpf,status:xt.ENABLED,email:a.email};n.role=s?Pt.ADMIN:Pt.COMMON;var o=function(e){e(),f(!1),t(te(!1)),t(K(a._id))};f(!0),t(te(!0)),O.patch("employee/edit",n).then(function(){return o(e.success)}).catch(function(t){return o(e.error)})}return Object(n.useEffect)(function(){u(r),e.open||u(!1)},[e.open]),o.a.createElement(it.a,{open:e.open,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement(lt.a,{id:"alert-dialog-slide-title"},"Aten\xe7\xe3o"),o.a.createElement(st.a,null,o.a.createElement(ut.a,{id:"alert-dialog-slide-description"},e.message),o.a.createElement(Re.a,{container:!0,direction:"row",wrap:"nowrap"},o.a.createElement(Re.a,{container:!0,className:c.field},o.a.createElement(qe.a,null,"Nome: ")),o.a.createElement(Re.a,{container:!0,className:c.information},o.a.createElement(qe.a,null,a.name))),o.a.createElement(Re.a,{container:!0,direction:"row",wrap:"nowrap"},o.a.createElement(Re.a,{container:!0,className:c.field},o.a.createElement(qe.a,null,"Cpf: ")),o.a.createElement(Re.a,{container:!0,className:c.information},o.a.createElement(qe.a,null,a.cpf))),o.a.createElement(Re.a,{container:!0,direction:"row",wrap:"nowrap"},o.a.createElement(Re.a,{container:!0,className:c.field},o.a.createElement(qe.a,null,"Email: ")),o.a.createElement(Re.a,{container:!0,className:c.information},o.a.createElement(qe.a,null,a.email))),o.a.createElement(Re.a,{container:!0,direction:"row",wrap:"nowrap",alignItems:"center"},o.a.createElement(Re.a,null,o.a.createElement(Qt.a,{color:"primary",checked:s,onChange:function(e){return u(e.target.checked)},className:c.checkBox})),o.a.createElement(Re.a,null,o.a.createElement(qe.a,null,e.messageCheckBox)))),o.a.createElement(mt.a,null,o.a.createElement(Ke.a,{onClick:e.negativeAction,color:"primary"},"N\xe3o"),p?o.a.createElement(Kt.a,null):o.a.createElement(Ke.a,{onClick:g,color:"primary"},"Sim")))},aa=a(630),na=a(478),oa=a(476),ra=a(434),ca=a(174),ia=a(479),la=a(480),sa=a(481),ua=a(482),ma=a(1197),da=function(e){var t=e.status;return o.a.createElement("p",null,t===xt.PENDING?"Usu\xe1rio pendente":t===xt.NOT_AUTHORIZED?"N\xe3o autorizado":t===xt.ENABLED?"Usu\xe1rio habilitado":"Desconhecido")},pa=function(e){var t=e.role;return o.a.createElement("p",null,t===Pt.ADMIN?"Administrador":t===Pt.COMMON?"Comum":"Desconhecido")},fa=a(1196),ga=a(1205),Ea=a(1195),va=Object(ze.a)(function(e){return{root:{width:"100%",padding:32},tableWrapper:{overflowX:"auto",marginTop:32},rightIcon:{marginLeft:e.spacing(1)},input:{minWidth:"50%"},tableCellFooter:{paddingRight:"32px !important"}}}),ha=Object(Me.b)(function(e){return{data:e.employee.data,isLoading:e.component.loading,user:e.home.user}},{requestEmployees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log;return function(o){o(ne(ee.UPDATE_COMPONENT_LOADING,!0));var r="employee?limit=".concat(t,"&page=").concat(e);a&&(r=r.concat("&field=".concat(a))),O.get(r).then(function(e){o(ne(ee.UPDATE_COMPONENT_LOADING,!1)),o(ne(ae,e.data))}).catch(function(e){o(ne(ee.UPDATE_COMPONENT_LOADING,!1)),n(e)})}},removeEmployee:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;return function(n){n(ne(ee.UPDATE_COMPONENT_LOADING,!0)),O.delete("employee",{data:e}).then(function(a){n(ne(ee.UPDATE_COMPONENT_LOADING,!1)),n(K(e._id)),t(a)}).catch(function(e){n(ne(ee.UPDATE_COMPONENT_LOADING,!1)),a(e)})}}})(function(e){var t=va(),a=new ga.a;a.pipe(Object(Ea.a)(300)).subscribe(function(t){l(t),e.requestEmployees(1,10,t)});var r=Object(n.useState)(""),c=Object(Ue.a)(r,2),i=c[0],l=c[1],u=Object(n.useState)(!1),m=Object(Ue.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(!1),g=Object(Ue.a)(f,2),E=g[0],v=g[1],h=Object(n.useState)({name:"",email:""}),b=Object(Ue.a)(h,2),O=b[0],N=b[1],j=e.user.role===Pt.ADMIN;function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.data.page;e.isLoading||e.requestEmployees(t,e.data.limit,i,function(){s.a.error("Falha na comunica\xe7\xe3o com o servidor")})}return Object(n.useEffect)(function(){return e.requestEmployees(e.page,e.data.limit,i,function(){s.a.error("Falha na comunica\xe7\xe3o com o servidor")}),function(){return a.complete()}},[]),o.a.createElement(Re.a,{className:t.root},o.a.createElement($e.a,{onChange:function(e){return a.next(e.target.value)},className:t.input,variant:"outlined",label:"Procurar",placeholder:"Digite aqui para buscar",InputProps:{startAdornment:o.a.createElement(ra.a,{position:"start"},o.a.createElement(Lt.a,{onClick:function(){return e.requestEmployees(1,10,i)}},o.a.createElement(ma.a,null)))}}),o.a.createElement(ca.a,{className:t.tableWrapper},o.a.createElement(ia.a,null,o.a.createElement(la.a,null,o.a.createElement(na.a,null,o.a.createElement(oa.a,{component:"th"},"Nome"),o.a.createElement(oa.a,{component:"th"},"Email"),o.a.createElement(oa.a,{component:"th"},"Status"),o.a.createElement(oa.a,{component:"th"},"Papel"),j&&o.a.createElement(oa.a,{component:"th"},"Remover"))),o.a.createElement(sa.a,null,e.data.docs.map(function(e){return o.a.createElement(na.a,{onClick:function(){j&&(N(e),v(!0))},hover:j,key:e._id},o.a.createElement(oa.a,null,e.name),o.a.createElement(oa.a,null,e.email),o.a.createElement(oa.a,null,o.a.createElement(da,{status:e.status})),o.a.createElement(oa.a,null,o.a.createElement(pa,{role:e.role})),j&&o.a.createElement(oa.a,{component:"th"},o.a.createElement(Ke.a,{onClick:function(t){t.stopPropagation(),p(!0),N(e)},variant:"outlined",color:"secondary"},"Remover",o.a.createElement(fa.a,{className:t.rightIcon}))))})),o.a.createElement(ua.a,null,o.a.createElement(na.a,null,o.a.createElement(aa.a,{labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," de ").concat(n)},rowsPerPage:10,rowsPerPageOptions:[],count:e.data.total,page:e.data.page-1,onChangePage:function(e,t){y(t+1)}}))))),o.a.createElement(pt,{open:d,onClose:p,title:"Aten\xe7\xe3o",message:"Deseja remover o usu\xe1rio ".concat(O.name,"?"),negativeButton:"N\xe3o",positiveButton:"Sim",negativeAction:function(){return p(!1)},positiveAction:function(){return p(!1),void(O.email&&e.removeEmployee(O,function(){s.a.success("Usu\xe1rio removido com sucesso",{autoClose:2e3}),e.requestEmployees(e.data.page,e.data.limit)},function(){return s.a.error("Falha ao deletar usu\xe1rio")}))}}),o.a.createElement(ta,{message:"Deseja aleterar permiss\xe3o desse usu\xe1rio?",messageCheckBox:"Administrador",success:function(){v(!1),y(),s.a.success("Usu\xe1rio editado",{autoClose:2e3})},error:function(){v(!1),s.a.error("Falha editar usu\xe1rio",{autoClose:2e3})},user:O,open:E,negativeAction:function(){return v(!1)}}))}),ba=Object(ze.a)({root:{padding:16},contentPadding:{padding:32},content:{width:"70%"},contentButton:{margin:"16px 32px"}});var Oa=function(e){Object(n.useEffect)(function(){O.get("employee/current").then(function(e){var t=e.data;return l(t)}).catch(function(e){return s.a.error("Falha de comunica\xe7\xe3o com o servidor")})},[]);var t=Object(Me.c)(),a=ba(),r=Object(n.useState)({name:"",email:"",cpf:"",password:"",confirmPassword:""}),c=Object(Ue.a)(r,2),i=c[0],l=c[1],u=function(e){return function(t){l(Object(d.a)(Object(d.a)({},i),{},Object(Ze.a)({},e,t.target.value)))}};return o.a.createElement(Re.a,{className:a.root,container:!0,justify:"center",alignItems:"center"},o.a.createElement(ca.a,{className:a.content},o.a.createElement(Re.a,{container:!0,direction:"column"},o.a.createElement(Re.a,{className:a.contentPadding},o.a.createElement(qe.a,{variant:"h5"},"Perfil"),o.a.createElement(qe.a,{variant:"h6"},"As informa\xe7\xf5es podem ser editadas")),o.a.createElement(wt.a,null),o.a.createElement(Re.a,{className:a.contentPadding,container:!0,direction:"column"},o.a.createElement($e.a,{onChange:u("name"),label:"Nome",margin:"normal",placeholder:"Informe email",variant:"outlined",value:i.name}),o.a.createElement($e.a,{label:"Email",margin:"normal",placeholder:"Informe email",variant:"outlined",value:i.email,disabled:!0}),o.a.createElement(tt.a,{mask:"999.999.999-99",value:i.cpf||"",onChange:u("cpf")},function(e){return o.a.createElement($e.a,Object.assign({},e,{label:"Cpf",margin:"normal",variant:"outlined"}))}),o.a.createElement($e.a,{onChange:u("password"),label:"Senha",margin:"normal",type:"password",placeholder:"Informe senha",variant:"outlined"}),o.a.createElement($e.a,{onChange:u("confirmPassword"),label:"Confirme senha",margin:"normal",type:"password",placeholder:"Informe senha",variant:"outlined"})),o.a.createElement(wt.a,null),o.a.createElement(Re.a,{className:a.contentButton},o.a.createElement(Ke.a,{onClick:function(){i.password!==i.confirmPassword?s.a.error("Senhas diferentes"):(t(te(!0)),O.patch("employee/edit",i).then(function(e){var a=e.data;t(te(!1)),t($(a.user)),s.a.success("Conta editada com sucesso")}).catch(function(e){t(te(!1)),s.a.error("Falha editar conta")}))},disabled:function(){if(i){var e=i.email,t=i.cpf,a=i.password,n=i.confirmPassword,o=i.name;return!(e&&t&&a&&n&&o)}return!0}(),variant:"contained",color:"primary"},"Salvar")))))},Na=function(e){var t=3,a=2,n=1,r=Object(Me.d)(function(e){return e.home.user});return o.a.createElement(o.a.Fragment,null,function(){var c=function(){var o=v.getUser();return o?e.onlyToken?n:!r.role&&o.role===Pt.ADMIN||r.role===Pt.ADMIN?n:a:t}();return c===t?o.a.createElement(l.a,{to:_t.LOGIN}):c===n?e.children:o.a.createElement(l.a,{to:_t.MAP})}())},ja=Object(ze.a)(function(e){return{root:{width:"100%",padding:32},tableWrapper:{overflowX:"auto",marginTop:32},rightIcon:{marginLeft:e.spacing(1)},input:{minWidth:"50%"},tableCellFooter:{paddingRight:"32px !important"}}}),ya=Object(Me.b)(function(e){return Object(d.a)(Object(d.a)({},e.history),{},{isLoading:e.component.loading})},{requestHistories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log;return function(o){o(ie(ee.UPDATE_COMPONENT_LOADING,!0));var r="history?limit=".concat(t,"&page=").concat(e);a&&(r=r.concat("&field=".concat(a))),O.get(r).then(function(e){o(ie(ee.UPDATE_COMPONENT_LOADING,!1)),o(ie(ce,e.data))}).catch(function(e){o(ie(ee.UPDATE_COMPONENT_LOADING,!1)),n(e)})}}})(function(e){var t=ja(),a=new ga.a;a.pipe(Object(Ea.a)(300)).subscribe(function(t){l(t),e.requestHistories(1,10,t)});var r=Object(n.useState)(""),c=Object(Ue.a)(r,2),i=c[0],l=c[1];return Object(n.useEffect)(function(){return e.requestHistories(e.page,e.limit,i,function(){s.a.error("Falha na comunica\xe7\xe3o com o servidor")}),function(){return a.complete()}},[]),o.a.createElement(Na,null,o.a.createElement(Re.a,{className:t.root},o.a.createElement($e.a,{onChange:function(e){return a.next(e.target.value)},className:t.input,variant:"outlined",label:"Procurar",placeholder:"Digite aqui para buscar, para data: yyyy-mm-dd",InputProps:{startAdornment:o.a.createElement(ra.a,{position:"start"},o.a.createElement(Lt.a,{onClick:function(){return e.requestHistories(1,10,i)}},o.a.createElement(ma.a,null)))}}),o.a.createElement(ca.a,{className:t.tableWrapper},o.a.createElement(ia.a,null,o.a.createElement(la.a,null,o.a.createElement(na.a,null,o.a.createElement(oa.a,{component:"th"},"Usu\xe1rio"),o.a.createElement(oa.a,{component:"th"},"Mensagem"),o.a.createElement(oa.a,{component:"th"},"Criado em"))),o.a.createElement(sa.a,null,e.docs.map(function(e){return o.a.createElement(na.a,{key:e._id},o.a.createElement(oa.a,null,e.email),o.a.createElement(oa.a,null,e.reason),o.a.createElement(oa.a,null,new Date(e.createdAt).toLocaleString()))})),o.a.createElement(ua.a,null,o.a.createElement(na.a,null,o.a.createElement(aa.a,{labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," de ").concat(n)},rowsPerPage:10,rowsPerPageOptions:[],count:e.total,page:e.page-1,onChangePage:function(t,a){!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.page;e.isLoading||e.requestHistories(t,e.limit,i,function(){s.a.error("Falha na comunica\xe7\xe3o com o servidor")})}(a+1)}})))))))}),Ca=a(110),Da=a(113),wa=Object(Ca.a)(Object(Ca.b)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyCfg6PgpQycYtUFaSRl336lsM8EDPmpmfI&v=3.exp&libraries=geometry,drawing,places&callback=initMap",center:{lat:-22.2295935,lng:-45.9434848},loadingElement:o.a.createElement("div",{style:{width:"100%"}}),containerElement:o.a.createElement("div",{style:{width:"100%"}}),mapElement:o.a.createElement("div",{style:{height:"100%",width:"100%"}})}),Da.withScriptjs,Da.withGoogleMap)(function(e){var t=e.children,a=e.onClick;return o.a.createElement(Da.GoogleMap,{defaultZoom:15,onClick:function(e){return a&&a(e)},defaultCenter:e.center},t&&t)});var Sa=a(448),Ta=a.n(Sa),La=a(641),Aa=a.n(La),Ia=Object(ze.a)({filterBtn:{position:"absolute",top:20,right:20,zIndex:1},contentMap:{position:"relative"}}),Pa=a(642),xa="mqtt_rasp"+Math.random().toString(16).substr(2,8),_a=Object(Pa.connect)("ws://ec2-18-228-196-51.sa-east-1.compute.amazonaws.com:9001",{username:"TCC",password:"TCC",clientId:xa});_a.on("connect",function(){return console.log("connected")}),_a.on("reconnect",function(){return console.log("reconnect")}),_a.on("disconnect",function(){return console.log("disconnected")}),_a.on("error",function(e){return console.log("error",e)}),_a.on("offline",function(){return console.log("offline")});var ka=_a,Ma=Object(Me.b)(function(e){return{devices:e.device.devices,loading:e.component.loading,currentDevice:e.device.currentDevice}},{requestAllDevices:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log;return function(a){a(te(!0)),O.get("device?all=all").then(function(t){a(te(!1)),a(we(t.data)),e&&e()}).catch(function(e){a(te(!1)),t(e)})}},updateDevices:we,requestDeviceById:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log;return function(a){a(te(!0));var n="device/".concat(e);O.get(n).then(function(e){var t;a(te(!1)),a((t=e.data,{type:De,payload:{value:t}}))}).catch(function(e){a(te(!1)),t(e)})}}})(function(e){var t=Object(n.useState)(!1),a=Object(Ue.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)({device:null,open:!1,filter:!1}),l=Object(Ue.a)(i,2),u=l[0],m=l[1],p=rt({marginVertical:"16px"}),f=Ia();function g(t,a){try{if(t.endsWith("/location")){var n=t.split("/")[0],o=ke.getState().device.devices,r=Object(S.a)(o),c=r.find(function(e){return e.uuid===n});if(c){var i=JSON.parse(String(a));c.latitude=i.lat,c.longitude=i.lon,e.updateDevices(r)}}}catch(l){}}return Object(n.useEffect)(function(){return window.initMap=function(){return c(!0)},(r||window.google)&&(e.requestAllDevices(),ka.subscribe("#"),ka.addListener("message",g)),function(){e.updateDevices([]),ka.removeListener("message",g),ka.unsubscribe("#")}},[r]),Object(n.useEffect)(function(){e.currentDevice&&m({device:e.currentDevice,open:!1,filter:!0})},[e.currentDevice]),o.a.createElement(Re.a,{className:f.contentMap,container:!0},u.filter&&o.a.createElement(Ke.a,{onClick:function(){return m({device:null,filter:!1,open:!1})},variant:"contained",color:"primary",className:f.filterBtn},"Remover filtro"),o.a.createElement(wa,null,function(){var t=window.google;if(t)return e.devices.filter(function(e){return!(u.filter&&u.device&&u.device._id!==e._id)}).map(function(e){var a=e.lineNumber?"".concat(e.lineNumber," - ").concat(e.lineDescription):null;return e.latitude&&e.longitude?o.a.createElement(Ta.a,{onClick:function(){return m(Object(d.a)(Object(d.a)({},u),{},{open:!0,device:e}))},key:e._id,icon:{url:Aa.a,scaledSize:new t.maps.Size(50,50)},position:{lat:e.latitude,lng:e.longitude},labelAnchor:new t.maps.Point(0,0),labelStyle:a&&{backgroundColor:"#FFF",fontSize:"12px",padding:"8px",borderRadius:"8px"}},a?o.a.createElement("div",null,a):o.a.createElement("div",null)):null})}(),function(){if(u.filter&&u.device.line.directions)return o.a.createElement(Da.Polyline,{path:u.device.line.directions.routes,geodesic:!0,options:{strokeColor:"#ff2527",strokeWeight:3}})}(),function(){if(u.filter&&u.device.line.points)return u.device.line.points.map(function(e,t){return o.a.createElement(Ta.a,{key:t.toString(),position:e,labelAnchor:new window.google.maps.Point(0,0),labelStyle:e.name&&{backgroundColor:"#FFF",fontSize:"12px",padding:"8px",borderRadius:"8px"}},e.name?o.a.createElement("div",null,e.name):o.a.createElement("div",null))})}()),function(){if(u.device){var t=u.device.lineNumber?"".concat(u.device.lineNumber," - ").concat(u.device.lineDescription):"Sem linha associada";return o.a.createElement(Mt.a,{open:u.open,onClose:function(){return m(Object(d.a)(Object(d.a)({},u),{},{open:!1}))},anchor:"top"},o.a.createElement(Re.a,{className:p.container,container:!0,direction:"column"},o.a.createElement(qe.a,{className:p.marginVertical,variant:"h4"},u.device.name),o.a.createElement(qe.a,{variant:"h5"},t),o.a.createElement(Re.a,null,o.a.createElement(Ke.a,{onClick:function(){u.device.line&&e.requestDeviceById(u.device._id,function(){s.a.error("Falha ao verificar rota"),m({device:null,filter:!1,open:!1})})},className:p.marginVertical,color:"primary",variant:"outlined"},"Visualizar linha"))))}}())});var Ua,Fa=a(449),Ra=a.n(Fa),Ga=a(643),qa=a(314),Ba=a(1198),Ha=Object(ze.a)(function(e){return{title:{margin:0,fontWeight:"normal"},contentTitle:{display:"flex",margin:"5px 32px",alignItems:"center","& h3":{marginLeft:16,marginTop:3}},contentTalk:{maxHeight:"calc(100vh - 65px)"},contentMessages:{flex:1,overflowY:"auto"},input:{flex:1,alignItems:"flex-start"},contentInputMessage:{border:"1px solid #DFE3E8",backgroundColor:"#FFF",borderRadius:2,display:"flex",flex:1,padding:5},icon:{marginLeft:e.spacing(1)},footer:{flex:.3,padding:16},contentField:{width:"100%",minHeight:"20vh",display:"flex",flexDirection:"column"},contentButton:{display:"flex",justifyContent:"flex-end"},contentList:{display:"flex",flexDirection:"column",overflowY:"auto",padding:"0px 32px 5px 32px"},card:{boxShadow:"0 1px 15px rgba(0,0,0,.04), 0 1px 6px rgba(0,0,0,.04)",borderRadius:"calc(.15rem - 1px)",border:"initial",backgroundColor:"#FFF",padding:16,display:"flex",flexDirection:"column",width:"max-content",maxWidth:"70%"},cardMessage:{display:"flex",justifyContent:"space-between",alignItems:"center","& p":{margin:0}},contentCard:{marginTop:16,width:"100%"},contentRight:{display:"flex",justifyContent:"flex-end"},date:{marginLeft:"16px !important",fontSize:".6rem"},name:{fontStyle:"italic"},contentTime:{display:"flex",alignItems:"center"}}}),Wa=Object(Me.b)(function(e){return{suggestion:e.suggestion.suggestion,user:e.home.user,loading:e.component.loading}},{getSuggestionById:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log;return function(a){a(me(ee.UPDATE_COMPONENT_LOADING,!0)),O.get("suggestion/".concat(e)).then(function(e){a(me(ee.UPDATE_COMPONENT_LOADING,!1)),a(me(ue,e.data))}).catch(function(e){a(me(ee.UPDATE_COMPONENT_LOADING,!1)),t(e)})}},removeMessage:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log;return function(o){o(me(ee.UPDATE_COMPONENT_LOADING,!0)),O.delete("suggestion/message",{data:{suggestion:e,message:t}}).then(function(e){o(me(ee.UPDATE_COMPONENT_LOADING,!1)),a(e)}).catch(function(e){o(me(ee.UPDATE_COMPONENT_LOADING,!1)),n(e)})}}})(Object(l.g)(function(e){var t=e.suggestion,a=e.match.params,r=Ha(),c=Object(n.useState)(""),i=Object(Ue.a)(c,2),l=i[0],u=i[1],m=Object(Me.c)(),d=v.getUser().entity,p=Object(n.useRef)(null);function f(){return(f=Object(Ga.a)(Ra.a.mark(function n(){var o;return Ra.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t||!d){n.next=14;break}return o={id:t._id,data:{by:e.user._id,message:l,onModel:d}},m(te(!0)),n.prev=3,u(""),n.next=7,O.patch("suggestion",o);case 7:e.getSuggestionById(a.id),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(3),m(te(!1)),s.a.error("Falha ao enviar mensagem");case 14:case"end":return n.stop()}},n,null,[[3,10]])}))).apply(this,arguments)}return Object(n.useEffect)(function(){e.getSuggestionById(a.id,function(){return e.history.goBack()})},[]),Object(n.useEffect)(function(){var e=p.current.scrollHeight,t=p.current.clientHeight,a=e-t;p.current.scrollTop=a>0?a:0},[t]),o.a.createElement(Re.a,{container:!0,direction:"column",wrap:"nowrap",className:r.contentTalk},o.a.createElement(Re.a,{className:r.contentMessages,container:!0,wrap:"nowrap",direction:"column"},o.a.createElement("div",{className:r.contentTitle},o.a.createElement("h2",{className:r.title},"T\xedtulo: "),t&&o.a.createElement("h3",{className:r.title},t.title)),o.a.createElement(wt.a,null),o.a.createElement("div",{ref:p,className:r.contentList},t?t.messages.map(function(n,c){return o.a.createElement("div",{key:c.toString(),className:Object(zt.a)(r.contentCard,Object(Ze.a)({},r.contentRight,e.user._id===n.by._id))},o.a.createElement("div",{className:r.card},o.a.createElement("div",{className:r.cardMessage},o.a.createElement("p",{className:r.name},n.by.name),o.a.createElement("div",{className:r.contentTime},o.a.createElement("p",{className:r.date},new Date(n.createdAt).toLocaleString()),e.user._id===n.by._id&&o.a.createElement(Lt.a,{onClick:function(){return o=n,void(e.loading||e.removeMessage(t._id,o._id,function(){return e.getSuggestionById(a.id)},function(){return s.a.error("Houve um erro ao remover mensagem",{autoClose:3e3})}));var o}},o.a.createElement(fa.a,null)))),o.a.createElement("div",null,o.a.createElement("p",null,n.message))))}):null)),o.a.createElement(Re.a,{container:!0,className:r.footer},o.a.createElement("div",{className:r.contentField},o.a.createElement("div",{className:r.contentInputMessage},o.a.createElement(qa.a,{className:r.input,placeholder:"Responda aqui",multiline:!0,maxLength:"2",disableUnderline:!0,onChange:function(e){return u(e.target.value)},value:l})),o.a.createElement("div",{className:r.contentButton},o.a.createElement(Ke.a,{disabled:!l,onClick:function(){return f.apply(this,arguments)}},"Enviar",o.a.createElement(Ba.a,{className:r.icon}))))))})),Va=Object(ze.a)(function(e){return{root:{width:"100%",padding:32},tableWrapper:{overflowX:"auto",marginTop:32,width:"100%"},rightIcon:{marginLeft:e.spacing(1)},input:{minWidth:"50%"},tableCellFooter:{paddingRight:"32px !important"}}}),za=Object(Me.b)(function(e){return Object(d.a)(Object(d.a)({},e.suggestion),{},{isLoading:e.component.loading})},{requestSuggestions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log;return function(o){o(me(ee.UPDATE_COMPONENT_LOADING,!0));var r="suggestion?limit=".concat(t,"&page=").concat(e);a&&(r=r.concat("&field=".concat(a))),O.get(r).then(function(e){o(me(ee.UPDATE_COMPONENT_LOADING,!1)),o(me(se,e.data))}).catch(function(e){o(me(ee.UPDATE_COMPONENT_LOADING,!1)),n(e)})}}})(function(e){var t=Va(),a=new ga.a;a.pipe(Object(Ea.a)(300)).subscribe(function(t){u(t),e.requestSuggestions(1,10,t)});var r=Object(n.useState)(""),c=Object(Ue.a)(r,2),i=c[0],u=c[1];function m(){return o.a.createElement(aa.a,{labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," de ").concat(n)},rowsPerPage:10,rowsPerPageOptions:[],count:e.total,page:e.page-1,onChangePage:function(t,a){!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.page;e.isLoading||e.requestSuggestions(t,e.limit,i,function(){s.a.error("Falha na comunica\xe7\xe3o com o servidor")})}(a+1)}})}return Object(n.useEffect)(function(){return e.location.pathname===_t.SUGGESTION&&e.requestSuggestions(e.page,e.limit,i,function(){s.a.error("Falha na comunica\xe7\xe3o com o servidor")}),function(){return a.complete()}},[e.location.pathname]),o.a.createElement(Re.a,{container:!0},o.a.createElement(l.d,null,o.a.createElement(l.b,{exact:!0,path:_t.SUGGESTION,render:function(){return o.a.createElement(Re.a,{className:t.root},o.a.createElement($e.a,{onChange:function(e){return a.next(e.target.value)},className:t.input,variant:"outlined",label:"Procurar",placeholder:"Digite aqui para buscar, para data: yyyy-mm-dd",InputProps:{startAdornment:o.a.createElement(ra.a,{position:"start"},o.a.createElement(Lt.a,{onClick:function(){return e.requestSuggestions(1,10,i)}},o.a.createElement(ma.a,null)))}}),o.a.createElement(ca.a,{className:t.tableWrapper},o.a.createElement(ia.a,null,o.a.createElement(la.a,null,o.a.createElement(na.a,null,o.a.createElement(oa.a,{align:"center",component:"th"},"Usu\xe1rio"),o.a.createElement(oa.a,{align:"center",component:"th"},"T\xedtulo"),o.a.createElement(oa.a,{align:"center",component:"th"},"Criado em"),o.a.createElement(oa.a,{align:"center",component:"th"},"Quantidade de mensagens"))),o.a.createElement(sa.a,null,e.docs.map(function(t){return o.a.createElement(na.a,{onClick:function(){return e.history.push("/home/suggestion/"+t._id)},hover:!0,key:t._id},o.a.createElement(oa.a,{align:"center"},t.name),o.a.createElement(oa.a,{align:"center"},t.title),o.a.createElement(oa.a,{align:"center"},new Date(t.createdAt).toLocaleString()),o.a.createElement(oa.a,{align:"center"},t.messages.length))})),o.a.createElement(ua.a,null,o.a.createElement(na.a,null,m())))))}}),o.a.createElement(l.b,{exact:!0,path:_t.SUGGESTION.concat("/:id"),render:function(){return o.a.createElement(Wa,null)}}),o.a.createElement(l.a,{from:"*",to:_t.HOME})))}),Ya=a(582),Ja=a(1199),Xa=a(644),Za=a.n(Xa),$a=a(22),Ka=Object(ze.a)(function(e){return{content:{width:"100%","& h2":{color:"rgba(0,0,0,.38)"}},padding:{padding:16},margin:{margin:16},input:{width:"30%"},colorPositive:{color:"".concat($a.colors.green.A700," !important")},colorNegative:{color:"".concat($a.colors.red.A700," !important")},textResult:{marginLeft:16},root:{width:"100%",padding:32},tableWrapper:{overflowX:"auto",marginTop:32,width:"100%"},rightIcon:{marginLeft:e.spacing(1)},inputSearch:{minWidth:"50%"},tableCellFooter:{paddingRight:"32px !important"},fab:{position:"fixed !important",bottom:e.spacing(2),right:e.spacing(2),backgroundColor:"#3f51b5 !important",color:"#FFF !important",borderRadius:"50% !important"}}}),Qa=Object(Ca.a)(Object(Me.b)(function(e){return Object(d.a)(Object(d.a)({},e.device.data),{},{isLoading:e.component.loading})},{requestDevices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:console.log;return function(r){r(te(!0));var c="device?limit=".concat(t,"&page=").concat(e);a&&(c=c.concat("&field=".concat(a))),O.get(c).then(function(e){var t;r(te(!1)),r((t=e.data,{type:ye,payload:{value:t}})),n&&n()}).catch(function(e){r(te(!1)),o(e)})}},removeDevice:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;return function(n){n(te(!0)),O.delete("device/".concat(e)).then(function(e){n(te(!1)),t(e)}).catch(function(e){n(te(!1)),a(e)})}}}),l.g)(function(e){var t=Ka(),a=new ga.a;a.pipe(Object(Ea.a)(300)).subscribe(function(t){l(t),e.requestDevices(1,10,t)});var r=Object(n.useState)(""),c=Object(Ue.a)(r,2),i=c[0],l=c[1];return Object(n.useEffect)(function(){return e.location.pathname===_t.DEVICES&&e.requestDevices(e.page,e.limit,i,null,function(){s.a.error("Falha na comunica\xe7\xe3o com o servidor")}),function(){return a.complete()}},[e.location.pathname]),o.a.createElement(Re.a,{container:!0},o.a.createElement(Re.a,{className:t.root},o.a.createElement($e.a,{onChange:function(e){return a.next(e.target.value)},className:t.inputSearch,variant:"outlined",label:"Procurar",placeholder:"Digite aqui para filtrar na tabela",InputProps:{startAdornment:o.a.createElement(ra.a,{position:"start"},o.a.createElement(Lt.a,{onClick:function(){return e.requestDevices(1,10,i)}},o.a.createElement(ma.a,null)))}}),o.a.createElement(ca.a,{className:t.tableWrapper},o.a.createElement(Za.a,{options:{search:!1,actionsColumnIndex:-1},localization:{header:{actions:"A\xe7\xf5es"},body:{emptyDataSourceMessage:"Nenhum dispositivo para mostrar",filterRow:{filterTooltip:"Filtrar"},editRow:{deleteText:"Deseja remover esse dispositivo?"}},toolbar:{searchTooltip:"Procurar",searchPlaceholder:"Digite aqui para buscar dispositivo"}},components:{Pagination:function(){return o.a.createElement(aa.a,{labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," de ").concat(n)},rowsPerPage:10,rowsPerPageOptions:[],count:e.total,page:e.page-1,onChangePage:function(t,a){!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.page;e.isLoading||e.requestDevices(t,e.limit,i,null,function(){s.a.error("Falha na comunica\xe7\xe3o com o servidor")})}(a+1)}})}},columns:[{title:"Nome",field:"name"},{title:"Identificador",field:"uuid",editable:"never"},{title:"Linha",field:"lineNumber",type:"numeric",min:0},{title:"Descri\xe7\xe3o da linha",field:"lineDescription",editable:"never"}],title:"Dispositivos",onRowClick:console.log,data:e.docs,editable:{onRowUpdate:function(t){return new Promise(function(a){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;O.put("device",e).then(function(e){t(e)}).catch(function(e){a(e)})}(t,function(){e.requestDevices(e.page,e.limit,i,a,function(){s.a.error("Falha na comunica\xe7\xe3o com o servidor")}),s.a.success("Dispositivo editado com sucesso")},function(e){var t=e.response;a(),t&&404===t.status?s.a.error("A linha para associa\xe7\xe3o n\xe3o foi encontrada"):s.a.error("Falha ao editar dispositivo")})})},onRowDelete:function(t){return new Promise(function(a){e.removeDevice(t._id,function(){s.a.success("Dispositivo removido com sucesso"),e.requestDevices(e.page,e.limit,i,a,function(){s.a.error("Falha na comunica\xe7\xe3o com o servidor")})},function(){return s.a.error("Falha ao remover dispositivo")})})}}}))),o.a.createElement(Ya.a,{onClick:function(){return e.history.push(_t.ADD_DEVICES)},className:t.fab,color:"primary"},o.a.createElement(Ja.a,null)))}),en=a(587),tn=a(585),an=a(586),nn=a(1206),on="Conectado",rn="Desconectado",cn="Conectando...",ln=function(e){var t,a=Object(n.useState)("Status"),r=Object(Ue.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)({text:"",topic:"",latitude:"",longitude:"",time:""}),u=Object(Ue.a)(l,2),m=u[0],p=u[1],f=Ka(),g=Object(Me.c)(),E=Object(Me.d)(function(e){return e.component.loading});function v(e,t){if(e===m.topic&&t){ka.unsubscribe(m.topic),g(te(!1)),i(on),Ua.unsubscribe();var a=JSON.parse(t.toString());a&&p(Object(d.a)(Object(d.a)({},m),{},{latitude:a.lat,longitude:a.lon,time:a.time}))}}return Object(n.useEffect)(function(){return function(){ka.removeListener("message",v),ka.unsubscribe(m.topic),g(te(!1)),Ua&&Ua.unsubscribe()}},[]),o.a.createElement(Re.a,{container:!0,alignItems:"center",justify:"center",direction:"column",className:Object(zt.a)(f.padding,f.content)},o.a.createElement("h2",{className:Object(zt.a)((t={},Object(Ze.a)(t,f.colorPositive,c===on),Object(Ze.a)(t,f.colorNegative,c===rn),t))},c),o.a.createElement($e.a,{disabled:E,value:m.text,onChange:function(e){return p(Object(d.a)(Object(d.a)({},m),{},{text:e.target.value,topic:e.target.value+"/pong"}))},className:f.input,variant:"outlined",placeholder:"Informe identificador do dispositivo",label:"Dispositivo"}),o.a.createElement(Re.a,null,o.a.createElement(Ya.a,{className:f.margin,color:"primary",variant:"extended",onClick:function(){E||(m?(ka.subscribe(m.topic),ka.publish(m.text.concat("/ping"),"ping"),ka.addListener("message",v),Ua=Object(nn.a)(1e4).subscribe(function(){ka.unsubscribe(m.topic),g(te(!1)),i(rn)}),g(te(!0)),i(cn)):s.a.info("Informe o identificador do dispositivo"))}},"Conectar"),o.a.createElement(Ya.a,{disabled:c!==on,className:f.margin,variant:"extended",onClick:function(){return e.finishProccess(m)}},"Pr\xf3ximo passo")))},sn=a(655),un=a(584),mn=a(629),dn=a(583),pn=function(e){var t=e.onClose,a=e.value,n=e.open,r=e.options,c=e.title,i=e.textCancel,l=e.textConfirm,s=Object(sn.a)(e,["onClose","value","open","options","title","textCancel","textConfirm"]),u=o.a.useState(a),m=Object(Ue.a)(u,2),d=m[0],p=m[1],f=o.a.useRef(null);return o.a.useEffect(function(){n||p(a)},[a,n]),o.a.createElement(it.a,Object.assign({disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs",onEntering:function(){null!==f.current&&f.current.focus()},"aria-labelledby":"confirmation-dialog-title",open:n},s),o.a.createElement(lt.a,{id:"confirmation-dialog-title"},c),o.a.createElement(st.a,{dividers:!0},o.a.createElement(un.a,{ref:f,"aria-label":"ringtone",name:"ringtone",value:d||"",onChange:function(e,t){p(t)}},r.map(function(e,t){return o.a.createElement(dn.a,{value:e._id,key:t.toString(),control:o.a.createElement(mn.a,null),label:"".concat(e.number||""," - ").concat(e.description)})}))),o.a.createElement(mt.a,null,o.a.createElement(Ke.a,{onClick:function(){t()},color:"primary"},i),o.a.createElement(Ke.a,{onClick:function(){t(d)},color:"primary"},l)))},fn=Object(Ca.a)(Object(Me.b)(function(e){return Object(d.a)(Object(d.a)({},e.device),{},{loading:e.component.loading})},{updateName:function(e){return{type:be,payload:{value:e}}},openDialog:function(e){return{type:Oe,payload:{value:e}}},onClose:function(e){return{type:Ne,payload:{value:e}}},requestLines:Te,clear:function(){return{type:je}},createDevice:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;return function(n){n(te(!0)),O.post("device",e).then(function(e){n(te(!1)),t(e)}).catch(function(e){n(te(!1)),a(e)})}}}),l.g)(function(e){var t=Ka();return Object(n.useEffect)(function(){return e.requestLines(function(){return s.a.error("Falha na comunica\xe7\xe3o com o servidor")}),e.clear},[]),o.a.createElement(Re.a,{container:!0,alignItems:"center",justify:"center",direction:"column",className:Object(zt.a)(t.padding,t.content)},o.a.createElement("h2",null,"Associar dispositivo com uma linha:"),o.a.createElement($e.a,{value:e.name,onChange:function(t){return e.updateName(t.target.value)},className:t.input,variant:"outlined",placeholder:"Informe um nome para o dispositivo",label:"Nome"}),o.a.createElement(Re.a,{container:!0,wrap:"nowrap",justify:"center"},o.a.createElement("p",null,"Linha escolhida: "),o.a.createElement("p",{className:t.textResult},function(){if(e.value){var t=e.lines.find(function(t){return t._id===e.value});return o.a.createElement(o.a.Fragment,null,t.number," - ",t.description)}}())),o.a.createElement(Ke.a,{variant:"outlined",disabled:e.loading,onClick:function(){return e.lines.length?e.openDialog(!0):s.a.info("Nenhuma linha para associar")}},"Abrir op\xe7\xf5es"),o.a.createElement(Re.a,null,o.a.createElement(Ya.a,{disabled:e.loading,className:t.margin,color:"primary",variant:"extended",onClick:function(){var t={uuid:e.device.text,name:e.name,line:e.value,latitude:e.device.latitude,longitude:e.device.longitude};t.uuid?t.line?e.createDevice(t,function(){s.a.success("Dispositivo cadastrado com sucesso"),e.history.goBack()},function(e){var t=e.response;t&&409===t.status?s.a.error("Dispositivo j\xe1 cadastrado"):s.a.error("Falha ao cadastrar dispositivo")}):s.a.info("Falta escolher a linha para associa\xe7\xe3o"):s.a.error("Identificador do dispositivo est\xe1 vazio")}},"Salvar")),o.a.createElement(pn,{open:e.open,options:e.lines,title:"Aten\xe7\xe3o",textCancel:"Cancelar",textConfirm:"Ok",value:e.value,onClose:e.onClose}))});var gn=["Conectar no dispositivo","Associar com uma linha"];function En(){var e=Object(n.useState)({step:0,device:null}),t=Object(Ue.a)(e,2),a=t[0],r=t[1],c=Ka();return o.a.createElement(Re.a,{wrap:"nowrap",container:!0},o.a.createElement(Re.a,{container:!0,direction:"column",wrap:"nowrap",className:c.content},o.a.createElement(en.a,{activeStep:a.step},gn.map(function(e){return o.a.createElement(tn.a,{key:e},o.a.createElement(an.a,null,e))})),0===a.step&&o.a.createElement(ln,{finishProccess:function(e){return r(Object(d.a)(Object(d.a)({},a),{},{step:1,device:e}))}}),1===a.step&&o.a.createElement(fn,{device:a.device})))}var vn,hn=function(){return o.a.createElement(l.d,null,o.a.createElement(l.b,{path:_t.DEVICES,exact:!0,component:Qa}),o.a.createElement(l.b,{path:_t.ADD_DEVICES,exact:!0,component:En}),o.a.createElement(l.a,{from:"*",to:_t.DEVICES}))},bn=Object(ze.a)(function(e){return{input:{minWidth:"30vw",marginLeft:16},inputLine:{marginLeft:16},contentBlockMap:{maxHeight:"80vh",padding:"16px 0px"},contentFields:{flex:.5,display:"block",padding:8,overflowY:"auto"},contentMap:{flex:1},addIconField:{padding:"12px 0px"},iconRemove:{"&:hover $iconHiddenRemove":{visibility:"visible !important"}},iconHiddenRemove:{visibility:"hidden"},contentContainerMap:{height:"calc(80vh - 16px)"},buttonSave:{marginLeft:16,"& svg":{marginRight:10}},root:{width:"100%",padding:32},tableWrapper:{overflowX:"auto",marginTop:32,width:"100%"},rightIcon:{marginLeft:e.spacing(1)},inputSearch:{minWidth:"50%"},tableCellFooter:{paddingRight:"32px !important"},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:1}}}),On=Object(Ca.a)(Object(Me.b)(function(e){return Object(d.a)(Object(d.a)({},e.line.data),{},{isLoading:e.component.loading})},{requestLines:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log;return function(o){o(ge(ee.UPDATE_COMPONENT_LOADING,!0));var r="line?limit=".concat(t,"&page=").concat(e);a&&(r=r.concat("&field=".concat(a))),O.get(r).then(function(e){o(ge(ee.UPDATE_COMPONENT_LOADING,!1)),o(ge(pe,e.data))}).catch(function(e){o(ge(ee.UPDATE_COMPONENT_LOADING,!1)),n(e)})}},removeLine:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;return function(n){n(ge(ee.UPDATE_COMPONENT_LOADING,!0)),O.delete("line/".concat(e)).then(function(e){n(ge(ee.UPDATE_COMPONENT_LOADING,!1)),t(e)}).catch(function(e){n(ge(ee.UPDATE_COMPONENT_LOADING,!1)),a(e)})}}}),l.g)(function(e){var t=bn(),a=new ga.a;a.pipe(Object(Ea.a)(300)).subscribe(function(t){l(t),e.requestLines(1,10,t)});var r=Object(n.useState)(""),c=Object(Ue.a)(r,2),i=c[0],l=c[1];function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.page;e.isLoading||e.requestLines(t,e.limit,i,function(){s.a.error("Falha na comunica\xe7\xe3o com o servidor")})}return Object(n.useEffect)(function(){return e.location.pathname===_t.LINES&&e.requestLines(e.page,e.limit,i,function(){s.a.error("Falha na comunica\xe7\xe3o com o servidor")}),function(){return a.complete()}},[e.location.pathname]),o.a.createElement(Re.a,{container:!0},o.a.createElement(Re.a,{className:t.root},o.a.createElement($e.a,{onChange:function(e){return a.next(e.target.value)},className:t.inputSearch,variant:"outlined",label:"Procurar",placeholder:"Digite aqui para buscar por n\xfamero ou descri\xe7\xe3o",InputProps:{startAdornment:o.a.createElement(ra.a,{position:"start"},o.a.createElement(Lt.a,{onClick:function(){return e.requestLines(1,10,i)}},o.a.createElement(ma.a,null)))}}),o.a.createElement(ca.a,{className:t.tableWrapper},o.a.createElement(ia.a,null,o.a.createElement(la.a,null,o.a.createElement(na.a,null,o.a.createElement(oa.a,{align:"center",component:"th"},"N\xfamero"),o.a.createElement(oa.a,{align:"center",component:"th"},"Descri\xe7\xe3o"),o.a.createElement(oa.a,{align:"center",component:"th"},"A\xe7\xe3o"))),o.a.createElement(sa.a,null,e.docs.map(function(a){return o.a.createElement(na.a,{onClick:function(){return e.history.push(_t.ADD_LINES.concat("/".concat(a._id)))},hover:!0,key:a._id},o.a.createElement(oa.a,{align:"center"},a.number),o.a.createElement(oa.a,{align:"center"},a.description),o.a.createElement(oa.a,{align:"center"},o.a.createElement(Ke.a,{onClick:function(t){t.stopPropagation(),e.removeLine(a._id,function(){s.a.success("Linha removida com sucesso"),u()},function(){return s.a.error("Falha ao remover linha")})},color:"secondary"},o.a.createElement(fa.a,{className:t.rightIcon}),o.a.createElement("span",null,"Remover"))))})),o.a.createElement(ua.a,null,o.a.createElement(na.a,null,o.a.createElement(aa.a,{labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," de ").concat(n)},rowsPerPage:10,rowsPerPageOptions:[],count:e.total,page:e.page-1,onChangePage:function(e,t){u(t+1)}})))))),o.a.createElement(Ya.a,{onClick:function(){return e.history.push(_t.ADD_LINES)},className:t.fab,color:"primary"},o.a.createElement(Ja.a,null)))}),Nn=a(1200),jn=a(1201),yn=a(1202),Cn=function(e){return o.a.createElement(it.a,{open:e.open,"aria-labelledby":"form-dialog-title"},o.a.createElement(lt.a,{id:"form-dialog-title"},e.title),o.a.createElement(st.a,null,o.a.createElement(ut.a,null,e.message),o.a.createElement($e.a,{autoFocus:!0,onChange:e.onChange,margin:"dense",label:e.label,fullWidth:!0,value:e.text})),o.a.createElement(mt.a,null,o.a.createElement(Ke.a,{onClick:e.onCancel,color:"primary"},e.textCancel),o.a.createElement(Ke.a,{onClick:e.onConfirm,color:"primary"},e.textButton)))},Dn=a(631),wn=a(31),Sn=a(380),Tn=a(304),Ln=Object(ze.a)(function(e){return{chip:{margin:e.spacing(1)}}}),An=function(e){var t=Ln(),a=Object(n.useState)(0),r=Object(Ue.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(new Date),u=Object(Ue.a)(l,2),m=u[0],p=u[1],f=Object(n.useState)({mondayToSaturday:[],sundayAndHoliday:[]}),g=Object(Ue.a)(f,2),E=g[0],v=g[1];function h(e){return e.sort(function(e,t){return Number(e.split(":").join(""))-Number(t.split(":").join(""))})}return Object(n.useEffect)(function(){return v(function(t){var a=Object(d.a)({},t);for(var n in e.horary)a[n]&&(a[n]=Object(S.a)(e.horary[n]));return a}),function(){return v({mondayToSaturday:[],sundayAndHoliday:[]})}},[e.horary,e.open]),o.a.createElement(it.a,{onClose:function(){return e.onOpen(!1,E)},fullWidth:!0,maxWidth:"sm",open:e.open,"aria-labelledby":"form-dialog-title"},o.a.createElement(lt.a,{id:"form-dialog-title"},"Definir Hor\xe1rios"),o.a.createElement(st.a,null,o.a.createElement(Be.a,{value:c,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return i(t)},centered:!0},o.a.createElement(He.a,{label:"Segunda - S\xe1bado"}),o.a.createElement(He.a,{label:"Domingo e feriados"})),o.a.createElement("div",null,o.a.createElement(wn.a,{utils:Tn.default},o.a.createElement(Sn.a,{okLabel:"Ok",cancelLabel:"Cancelar",margin:"normal",label:"Hor\xe1rio de sa\xedda",onChange:function(e,t){var a=e.getHours(),n=e.getMinutes(),o=0===c?"mondayToSaturday":"sundayAndHoliday",r="".concat(a.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"));E[o].some(function(e){return e===r})?s.a.info("Hor\xe1rio j\xe1 incluso.",{autoClose:2e3}):(p(e),v(Object(d.a)(Object(d.a)({},E),{},Object(Ze.a)({},o,h([].concat(Object(S.a)(E[o]),[r]))))))},value:m}))),h(E[0===c?"mondayToSaturday":"sundayAndHoliday"]).map(function(e,a){return o.a.createElement(Dn.a,{className:t.chip,key:a.toString(),label:e,onDelete:function(){return function(e,t){v(function(a){var n=Object(d.a)({},a);return n[e].splice(t,1),n})}(0===c?"mondayToSaturday":"sundayAndHoliday",a)},color:"primary"})})),o.a.createElement(mt.a,null,o.a.createElement(Ke.a,{onClick:function(){return e.onOpen(!1)},color:"primary"},"Cancelar"),o.a.createElement(Ke.a,{onClick:function(){return e.onOpen(!1,E)},color:"primary"},"Salvar")))},In=Object(Me.b)(function(e){return{loading:e.component.loading,line:e.line.lineEdited}},{createLine:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;return function(n){n(ge(ee.UPDATE_COMPONENT_LOADING,!0)),O.post("line",e).then(function(e){n(ge(ee.UPDATE_COMPONENT_LOADING,!1)),t(e)}).catch(function(e){n(ge(ee.UPDATE_COMPONENT_LOADING,!1)),a(e)})}},getLineById:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log;return function(a){a(ge(ee.UPDATE_COMPONENT_LOADING,!0)),O.get("line/".concat(e)).then(function(e){a(ge(ee.UPDATE_COMPONENT_LOADING,!1)),a(ge(fe,e.data))}).catch(function(e){a(ge(ee.UPDATE_COMPONENT_LOADING,!1)),t(e)})}},editLine:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;return function(n){n(ge(ee.UPDATE_COMPONENT_LOADING,!0)),O.put("line",e).then(function(e){n(ge(ee.UPDATE_COMPONENT_LOADING,!1)),t(e)}).catch(function(e){n(ge(ee.UPDATE_COMPONENT_LOADING,!1)),a(e)})}}})(function(e){var t=rt(),a=bn(),r=Object(n.useRef)(null),c=e.match.params.id,i=Object(n.useState)(),l=Object(Ue.a)(i,2),u=l[0],m=l[1],p=Object(n.useState)({mondayToSaturday:[],sundayAndHoliday:[]}),f=Object(Ue.a)(p,2),g=f[0],E=f[1],v=Object(n.useState)({line:"",description:"",errorLine:"",errorDescription:""}),h=Object(Ue.a)(v,2),b=h[0],O=h[1],N=Object(n.useState)([{route:""},{route:""}]),j=Object(Ue.a)(N,2),y=j[0],C=j[1],D=Object(n.useState)([]),w=Object(Ue.a)(D,2),T=w[0],L=w[1],A=Object(n.useState)({index:null,text:"",open:!1}),I=Object(Ue.a)(A,2),P=I[0],x=I[1],_=Object(n.useState)(!1),k=Object(Ue.a)(_,2),M=k[0],U=k[1],F=Object(n.useState)(!1),R=Object(Ue.a)(F,2),G=R[0],q=R[1];function B(e){var t=window.google;return"location"in e?e:"query"in e?e.query:new t.maps.LatLng(e.lat,e.lng)}function H(){if(y.every(function(e){return!!e.route})){var e=window.google,t=new e.maps.DirectionsService,a={origin:y[0].route,destination:y[y.length-1].route,waypoints:y.filter(function(e,t){return 0!==t&&t!==y.length-1}).map(function(e){return{location:e.route,stopover:!0}}),optimizeWaypoints:!0,travelMode:e.maps.TravelMode.DRIVING,avoidTolls:!0};t.route(a,function(t,a){a===e.maps.DirectionsStatus.OK?m(Object(d.a)(Object(d.a)({},u),t)):a===e.maps.DirectionsStatus.NOT_FOUND?s.a.error("Rota n\xe3o encontrada, verifique os caminhos inseridos"):s.a.error("Falha ao requisitar rota")})}else s.a.error("Existe campo de rota sem preenchimento")}return Object(n.useEffect)(function(){window.initMap=function(){return U(!0)},c&&e.getLineById(c,function(){s.a.error("Falha ao buscar dados da linha, tente novamente"),e.history.goBack()})},[]),Object(n.useEffect)(function(){if(e.line&&Object.keys(e.line).length&&window.google){C(Object(S.a)(e.line.routes)),L(Object(S.a)(e.line.points)),e.line.horary&&E(Object(d.a)({},e.line.horary));var t=window.google,a=new t.maps.DirectionsService,n=[];n.push(e.line.directions.request.origin),n.push.apply(n,Object(S.a)(e.line.directions.request.waypoints)),n.push(e.line.directions.request.destination);var o=n[0],r=n[n.length-1],c={origin:B(o),destination:B(r),waypoints:n.filter(function(e,t){return 0!==t&&t!==n.length-1}).map(B),optimizeWaypoints:!0,travelMode:t.maps.TravelMode.DRIVING,avoidTolls:!0};a.route(c,function(e,a){a===t.maps.DirectionsStatus.OK?m(Object(d.a)(Object(d.a)({},u),e)):a===t.maps.DirectionsStatus.NOT_FOUND?s.a.error("Rota n\xe3o encontrada, verifique os caminhos inseridos"):s.a.error("Falha ao requisitar rota")}),O({line:e.line.number,description:e.line.description})}},[e.line,M]),o.a.createElement(Re.a,{container:!0,className:t.container,wrap:"nowrap",direction:"column"},o.a.createElement(Re.a,{alignItems:"center",container:!0},o.a.createElement("h2",null,"Informa\xe7\xe3o: "),o.a.createElement($e.a,{className:a.inputLine,value:b.line,onChange:function(e){return O(Object(d.a)(Object(d.a)({},b),{},{line:e.target.value,errorLine:""}))},variant:"outlined",type:"number",label:"Linha",InputProps:{inputProps:{min:0}},placeholder:"N\xfamero da linha",error:!!b.errorLine,helperText:b.errorLine}),o.a.createElement($e.a,{value:b.description,onChange:function(e){return O(Object(d.a)(Object(d.a)({},b),{},{description:e.target.value,errorDescription:""}))},className:a.input,variant:"outlined",label:"Descri\xe7\xe3o",placeholder:"Informe a descri\xe7\xe3o",error:!!b.errorDescription,helperText:b.errorDescription}),o.a.createElement(Ke.a,{variant:"contained",onClick:function(){return q(!0)},className:a.buttonSave,color:"primary"},o.a.createElement("span",null,"Hor\xe1rios"))),o.a.createElement(Re.a,{className:a.contentBlockMap,container:!0},o.a.createElement(ca.a,{className:t.maxWidth},o.a.createElement(Re.a,{container:!0,wrap:"nowrap",className:a.contentContainerMap},o.a.createElement(Re.a,{className:a.contentFields,container:!0},y.map(function(e,n){return o.a.createElement(Re.a,{alignItems:"center",className:Object(zt.a)(a.addIconField,Object(Ze.a)({},a.iconRemove,y.length>2)),container:!0,key:n.toString(),wrap:"nowrap"},o.a.createElement($e.a,{className:t.maxWidth,value:e.route,onChange:function(e){var t=e.target.value;C(function(e){var a=Object(S.a)(e);return a[n].route=t,a})},placeholder:0===n?"Informe in\xedcio da rota":n===y.length-1?"Informe destino final":"Informe caminho",InputProps:{endAdornment:o.a.createElement(ra.a,{position:"end"},o.a.createElement(Lt.a,{onClick:H,edge:"end"},o.a.createElement(ma.a,null)))}}),o.a.createElement(Lt.a,{onClick:function(){C(Object(S.a)(y.filter(function(e,t){return n!==t})))},className:a.iconHiddenRemove},o.a.createElement(Nn.a,null)))}),o.a.createElement(Lt.a,{className:a.addIconField,onClick:function(){return C([].concat(Object(S.a)(y),[{route:""}]))}},o.a.createElement(jn.a,null))),o.a.createElement(Re.a,{className:a.contentMap,container:!0},o.a.createElement(wa,{onClick:function(e){var t=e.latLng;T.some(function(e){return e.showOverlayView})||(L([].concat(Object(S.a)(T),[{lat:t.lat(),lng:t.lng(),showOverlayView:!1,name:""}])),x(Object(d.a)(Object(d.a)({},P),{},{index:T.length,open:!0})))}},u&&o.a.createElement(Da.DirectionsRenderer,{ref:r,options:{draggable:!0},directions:u}),function(){var e=function(e){return function(t){L(function(t){var a=Object(S.a)(t);return a[e].showOverlayView=!a[e].showOverlayView,a})}};return T.map(function(a,n){return o.a.createElement(o.a.Fragment,{key:n.toString()},o.a.createElement(Da.Marker,{onClick:e(n),title:a.name,clickable:!0,draggable:!0,position:{lat:a.lat,lng:a.lng}}),a.showOverlayView&&o.a.createElement(Da.OverlayView,{mapPaneName:Da.OverlayView.OVERLAY_MOUSE_TARGET,position:{lat:a.lat,lng:a.lng}},o.a.createElement(ca.a,{className:t.container},o.a.createElement(Re.a,{container:!0,direction:"column"},o.a.createElement("h4",null,"Nome do ponto: ",a.name),o.a.createElement(Ke.a,{onClick:e(n)},"Fechar"),o.a.createElement(Ke.a,{onClick:function(){x(Object(d.a)(Object(d.a)({},P),{},{index:n,text:a.name,open:!0})),e(n)()}},"Editar"),o.a.createElement(Ke.a,{onClick:function(){return L(Object(S.a)(T.filter(function(e,t){return n!==t})))}},"Remover")))))})}()))))),o.a.createElement(Cn,{open:P.open,title:"Aten\xe7\xe3o",message:"Informe o nome do marcador",label:"Nome",onChange:function(e){return x(Object(d.a)(Object(d.a)({},P),{},{text:e.target.value}))},onConfirm:function(){P.text?(null!==P.index&&L(function(e){var t=Object(S.a)(e);return t[P.index].name=P.text,t}),x(Object(d.a)(Object(d.a)({},P),{},{text:"",open:!1,index:null}))):s.a.info("Informe o nome do marcador")},textButton:"Salvar",text:P.text,textCancel:"Cancelar",onCancel:function(){return x(Object(d.a)(Object(d.a)({},P),{},{text:"",index:null,open:!1}))}}),o.a.createElement(Ya.a,{variant:"extended",onClick:function(){var t=!0,a=Object(d.a)({},b);if(!e.loading){if(a.line||(a.errorLine="Campo vazio",t=!1),a.description||(a.errorDescription="Campo vazio",t=!1),!t)return void O(a);!function(){if(r.current){var t=r.current.getDirections(),a={number:b.line,description:b.description,routes:y,directions:{request:t.request,routes:t.routes[0].overview_path},points:T,horary:g},n=function(e){return function(t){var a=t.response;a&&409===a.status?s.a.error("J\xe1 existe uma linha cadastrada com esse n\xfamero"):s.a.error(e)}};c?(a._id=e.line._id,e.editLine(a,function(){s.a.success("Linha editada com sucesso"),e.history.goBack()},n("Falha ao editar linha"))):e.createLine(a,function(){s.a.success("Linha cadastrada com sucesso"),e.history.goBack()},n("Falha ao criar linha"))}else s.a.info("Busque pela rota adicionada para renderizar no mapa")}()}},className:Object(zt.a)(a.buttonSave,a.fab),color:"primary"},o.a.createElement(yn.a,null),o.a.createElement("span",null,"SALVAR")),o.a.createElement(An,{onOpen:function(e,t){q(e),t&&E(Object(d.a)({},t))},open:G,horary:g}))}),Pn=function(){return o.a.createElement(l.d,null,o.a.createElement(l.b,{path:_t.LINES,exact:!0,component:On}),o.a.createElement(l.b,{path:_t.ADD_LINES,exact:!0,component:In}),o.a.createElement(l.b,{path:_t.ADD_LINES.concat("/:id"),exact:!0,component:In}),o.a.createElement(l.a,{from:"*",to:_t.LINES}))},xn=Object(ze.a)(function(e){return{input:{minWidth:"30vw",marginLeft:16},inputLine:{marginLeft:16},contentBlockMap:{maxHeight:"80vh",padding:"16px 0px"},contentFields:{flex:.5,display:"block",padding:8,overflowY:"auto"},contentMap:{flex:1},addIconField:{padding:"12px 0px"},iconRemove:{"&:hover $iconHiddenRemove":{visibility:"visible !important"}},iconHiddenRemove:{visibility:"hidden"},contentContainerMap:{height:"calc(80vh - 16px)"},buttonSave:{marginLeft:16,"& svg":{marginRight:10}},inputRegisterNews:{width:"50vw",marginTop:16},textMessage:{margin:"16px 0px"},root:{width:"100%",padding:32},tableWrapper:{overflowX:"auto",marginTop:32,width:"100%"},rightIcon:{marginLeft:e.spacing(1)},inputSearch:{minWidth:"50%"},tableCellFooter:{paddingRight:"32px !important"},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}),_n=a(649),kn=a.n(_n),Mn=Object(Ca.a)(Object(Me.b)(function(e){return Object(d.a)(Object(d.a)({},e.news.data),{},{isLoading:e.component.loading})},{requestNews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log;return function(o){o(Pe(ee.UPDATE_COMPONENT_LOADING,!0));var r="news?limit=".concat(t,"&page=").concat(e);a&&(r=r.concat("&field=".concat(a))),O.get(r).then(function(e){o(Pe(ee.UPDATE_COMPONENT_LOADING,!1)),o(Pe(Ae,e.data))}).catch(function(e){o(Pe(ee.UPDATE_COMPONENT_LOADING,!1)),n(e)})}},removeNews:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;return function(n){n(Pe(ee.UPDATE_COMPONENT_LOADING,!0)),O.delete("news/".concat(e)).then(function(e){n(Pe(ee.UPDATE_COMPONENT_LOADING,!1)),t(e)}).catch(function(e){n(Pe(ee.UPDATE_COMPONENT_LOADING,!1)),a(e)})}}}),l.g)(function(e){var t=xn(),a=new ga.a;a.pipe(Object(Ea.a)(300)).subscribe(function(t){l(t),e.requestNews(1,10,t)});var r=Object(n.useState)(""),c=Object(Ue.a)(r,2),i=c[0],l=c[1];function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.page;e.isLoading||e.requestNews(t,e.limit,i,function(){s.a.error("Falha na comunica\xe7\xe3o com o servidor")})}return Object(n.useEffect)(function(){return e.location.pathname===_t.NEWS&&e.requestNews(e.page,e.limit,i,function(){s.a.error("Falha na comunica\xe7\xe3o com o servidor")}),function(){return a.complete()}},[e.location.pathname]),o.a.createElement(Re.a,{container:!0},o.a.createElement(Re.a,{className:t.root},o.a.createElement($e.a,{onChange:function(e){return a.next(e.target.value)},className:t.inputSearch,variant:"outlined",label:"Procurar",placeholder:"Digite aqui para filtrar",InputProps:{startAdornment:o.a.createElement(ra.a,{position:"start"},o.a.createElement(Lt.a,{onClick:function(){return e.requestNews(1,10,i)}},o.a.createElement(ma.a,null)))}}),o.a.createElement(ca.a,{className:t.tableWrapper},o.a.createElement(ia.a,null,o.a.createElement(la.a,null,o.a.createElement(na.a,null,o.a.createElement(oa.a,{align:"center",component:"th"},"Autor"),o.a.createElement(oa.a,{align:"center",component:"th"},"T\xedtulo"),o.a.createElement(oa.a,{align:"center",component:"th"},"Mensagem"),o.a.createElement(oa.a,{align:"center",component:"th"},"Criado em"),o.a.createElement(oa.a,{align:"center",component:"th"},"A\xe7\xe3o"))),o.a.createElement(sa.a,null,e.docs.map(function(a){return o.a.createElement(na.a,{onClick:function(){return e.history.push(_t.ADD_NEWS.concat("/".concat(a._id)))},hover:!0,key:a._id},o.a.createElement(oa.a,null,a.author?a.author.name:""),o.a.createElement(oa.a,null,a.title),o.a.createElement(oa.a,null,kn()(a.message)),o.a.createElement(oa.a,null,new Date(a.createdAt).toLocaleString()),o.a.createElement(oa.a,null,o.a.createElement(Ke.a,{onClick:function(t){t.stopPropagation(),e.removeNews(a._id,function(){s.a.success("Not\xedcia removida com sucesso"),u()},function(){return s.a.error("Falha ao remover not\xedcia")})},color:"secondary"},o.a.createElement(fa.a,{className:t.rightIcon}),o.a.createElement("span",null,"Remover"))))})),o.a.createElement(ua.a,null,o.a.createElement(na.a,null,o.a.createElement(aa.a,{labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," de ").concat(n)},rowsPerPage:10,rowsPerPageOptions:[],count:e.total,page:e.page-1,onChangePage:function(e,t){u(t+1)}})))))),o.a.createElement(Ya.a,{onClick:function(){return e.history.push(_t.ADD_NEWS)},className:t.fab,color:"primary"},o.a.createElement(Ja.a,null)))}),Un=a(170),Fn=a(650),Rn=a(651),Gn=a.n(Rn),qn=a(652),Bn=a.n(qn),Hn=(a(1168),Object(Me.b)(function(e){return{newsEdit:e.news.newsEdit,user:e.home.user}},{createNews:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;return function(n){n(Pe(ee.UPDATE_COMPONENT_LOADING,!0)),O.post("news",e).then(function(e){n(Pe(ee.UPDATE_COMPONENT_LOADING,!1)),t(e)}).catch(function(e){n(Pe(ee.UPDATE_COMPONENT_LOADING,!1)),a(e)})}},editNews:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;return function(n){n(Pe(ee.UPDATE_COMPONENT_LOADING,!0)),O.put("news",e).then(function(e){n(Pe(ee.UPDATE_COMPONENT_LOADING,!1)),t(e)}).catch(function(e){n(Pe(ee.UPDATE_COMPONENT_LOADING,!1)),a(e)})}},getNewsById:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log;return function(a){a(Pe(ee.UPDATE_COMPONENT_LOADING,!0)),O.get("news/".concat(e)).then(function(e){a(Pe(ee.UPDATE_COMPONENT_LOADING,!1)),a(Pe(Ie,e.data))}).catch(function(e){a(Pe(ee.UPDATE_COMPONENT_LOADING,!1)),t(e)})}},clearNewsEdit:function(){return Pe(Ie,null)}})(function(e){var t=rt(),a=xn(),r=Object(n.useState)(Un.EditorState.createEmpty()),c=Object(Ue.a)(r,2),i=c[0],l=c[1],u=Object(n.useState)(""),m=Object(Ue.a)(u,2),d=m[0],p=m[1],f=e.match.params.id;return Object(n.useEffect)(function(){return f&&e.getNewsById(f,function(){return s.a.error("Falha na comunica\xe7\xe3o com o servidor, tente novamente")}),function(){return e.clearNewsEdit()}},[]),Object(n.useEffect)(function(){if(e.newsEdit){var t=e.newsEdit,a=t.message,n=t.title;p(n);var o=Bn()(a),r=o.contentBlocks,c=o.entityMap,i=Un.ContentState.createFromBlockArray(r,c);l(Un.EditorState.createWithContent(i))}},[e.newsEdit]),o.a.createElement(Re.a,{className:t.container,container:!0,direction:"column",wrap:"nowrap"},o.a.createElement(qe.a,{variant:"h4"},"Not\xedcia:"),o.a.createElement($e.a,{value:d,onChange:function(e){return p(e.target.value)},className:a.inputRegisterNews,placeholder:"Informe t\xedtulo",label:"T\xedtulo",inputProps:{maxLength:100}}),o.a.createElement(qe.a,{className:a.textMessage,variant:"h5"},"Mensagem:"),o.a.createElement(Re.a,{style:{backgroundColor:"#FFF",minHeight:400}},o.a.createElement(Fn.Editor,{editorClassName:"editor",editorState:i,onEditorStateChange:function(e){return l(e)}})),o.a.createElement(Ya.a,{onClick:function(){var t=Gn()(Object(Un.convertToRaw)(i.getCurrentContent()));if(d&&t){var a={title:d,message:t,author:e.user._id},n=function(t){return function(){s.a.success(t),e.history.goBack()}},o=function(e){return function(){return s.a.error(e)}};f?(a._id=f,e.editNews(a,n("Not\xedcia editada com sucesso"),o("Falha ao editar not\xedcia"))):e.createNews(a,n("Not\xedcia registrada com sucesso"),o("Falha ao registrar not\xedcia"))}else s.a.info("Verifique os campos")},variant:"extended",color:"primary",className:a.fab},o.a.createElement("span",null,"Salvar")))})),Wn=function(){return o.a.createElement(l.d,null,o.a.createElement(l.b,{path:_t.NEWS,exact:!0,component:Mn}),o.a.createElement(l.b,{path:_t.ADD_NEWS,exact:!0,component:Hn}),o.a.createElement(l.b,{path:_t.ADD_NEWS.concat("/:id"),exact:!0,component:Hn}),o.a.createElement(l.a,{from:"*",to:_t.NEWS}))},Vn=function(){var e=rt();return Object(Me.d)(function(e){return e.component.loading})?o.a.createElement(Ge.a,{color:"primary",className:e.linearProgress}):o.a.createElement("div",null)},zn=a(577),Yn=a(330),Jn=a.n(Yn),Xn=a(1203),Zn=function(e){var t=e.title,a=e.content,n=e.icon,r=e.isLoading,c=e.error,i=e.buttonError,l=e.styleIcon,s=e.textColors,u=e.styleCard,m=Et();return o.a.createElement(Re.a,{className:m.card,item:!0,xs:12,sm:4,md:4,lg:3,xl:3},o.a.createElement(ca.a,{style:u,className:m.paper},o.a.createElement(Re.a,{container:!0,direction:"row",wrap:"nowrap",justify:"center",alignItems:"center"},o.a.createElement(Re.a,{className:m.contentInformation,item:!0,container:!0,direction:"column"},o.a.createElement("p",{style:s&&{color:s}},t),r?o.a.createElement(Jn.a,{circle:!0,height:50,width:50}):c?o.a.createElement("div",null,o.a.createElement(Lt.a,{onClick:i},o.a.createElement(Xn.a,{style:s&&{color:s}}))):o.a.createElement(qe.a,{style:s&&{color:s},className:m.result,variant:"h4"},a)),o.a.createElement(Re.a,{className:m.contentIcon,container:!0},o.a.createElement(zn.a,{className:m.icon,style:l},n)))))},$n=a(653),Kn=a(1204),Qn=Object(ze.a)({root:{flexGrow:1},icon:{position:"absolute",left:16},contentTitle:{display:"flex",justifyContent:"center",marginBottom:16}}),eo=o.a.forwardRef(function(e,t){return o.a.createElement(ct.a,Object.assign({direction:"up",ref:t},e))}),to=function(e){var t=Object(Me.c)(),a=Qn(),r=Object(n.useState)(4),c=Object(Ue.a)(r,2),i=c[0],l=c[1],u=Object(n.useState)({docs:[],page:1,pages:1,limit:10,total:0}),m=Object(Ue.a)(u,2),p=m[0],f=m[1];function g(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.page,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments.length>2?arguments[2]:void 0;t(te(!0)),vn&&vn("cancelled"),O.get("line/score/".concat(e.idLine,"?page=").concat(a,"&limit=").concat(p.limit,"&star=").concat(n+1),{cancelToken:new b(function(e){return vn=e})}).then(function(e){t(te(!1)),f(Object(d.a)(Object(d.a)({},p),e.data))}).catch(function(e){e&&"cancelled"===e.message||(o&&o(),t(te(!1)),s.a.error("Falha de comunica\xe7\xe3o com o servidor"))})}return Object(n.useEffect)(function(){e.idLine&&g(p.page,i)},[e.idLine]),o.a.createElement(it.a,{open:e.open,fullScreen:!0,TransitionComponent:eo,style:{backgroundColor:"transparent"}},o.a.createElement("div",{className:a.contentTitle},o.a.createElement(Lt.a,{className:a.icon,onClick:e.onClose},o.a.createElement(vt.a,null)),o.a.createElement(qe.a,{variant:"h4"},"Coment\xe1rios")),o.a.createElement(Re.a,{container:!0,direction:"column",wrap:"nowrap"},o.a.createElement(ca.a,{className:a.root},o.a.createElement(Be.a,{indicatorColor:"primary",textColor:"primary",centered:!0,value:i,onChange:function(e,t){var a=i;l(t),g(1,t,function(){return l(a)})},"aria-label":"simple tabs example"},o.a.createElement(He.a,{label:"1 estrela"}),o.a.createElement(He.a,{label:"2 estrelas"}),o.a.createElement(He.a,{label:"3 estrelas"}),o.a.createElement(He.a,{label:"4 estrelas"}),o.a.createElement(He.a,{label:"5 estrelas"}))),o.a.createElement(ia.a,{size:"small"},o.a.createElement(la.a,null,o.a.createElement(na.a,null,o.a.createElement(oa.a,{component:"th"},"Usu\xe1rio"),o.a.createElement(oa.a,{component:"th"},"Mensagem"),o.a.createElement(oa.a,{component:"th"},"Linha"),o.a.createElement(oa.a,{component:"th"},"Estrelas"),o.a.createElement(oa.a,{component:"th"},"Criado em"))),o.a.createElement(sa.a,null,p.docs.map(function(e,t){return o.a.createElement(na.a,{key:t.toString()},o.a.createElement(oa.a,null,e.user.name),o.a.createElement(oa.a,null,e.description),o.a.createElement(oa.a,null,e.line.number," - ",e.line.description),o.a.createElement(oa.a,null,o.a.createElement(Re.a,{container:!0,wrap:"nowrap"},function(e){for(var t=[],a=0;a<e;a++)t[a]=o.a.createElement(Kn.a,{key:a.toString()});return t}(e.star))),o.a.createElement(oa.a,null,new Date(e.createdAt).toLocaleString()))})),o.a.createElement(ua.a,null,o.a.createElement(na.a,null,o.a.createElement(aa.a,{labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," de ").concat(n)},rowsPerPage:10,rowsPerPageOptions:[],count:p.total,page:p.page-1,onChangePage:function(e,t){g(t+1)}}))))))};var ao=Object(Me.b)(function(e){return{lines:e.device.lines,errorToLoadLines:e.device.errorToLoadLines,score:e.home.score,isLoadingScore:e.home.isLoadingScore,errorToLoadScore:e.home.errorToLoadScore}},{requestLines:Te,requestScore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;return function(n){n(Z(!1)),n(X(!0)),O.get("line/score?filter=".concat(e)).then(function(e){var a;n(X(!1)),n((a=e.data,{type:R,payload:{value:a}})),t()}).catch(function(e){a(e),n(X(!1)),n(Z(!0))})}}})(function(e){var t={_id:"all",description:"Todas as linhas",number:null},a=rt(),r=Object(n.useState)(!1),c=Object(Ue.a)(r,2),i=c[0],l=c[1],u=Object(n.useState)({open:!1,id:""}),m=Object(Ue.a)(u,2),p=m[0],f=m[1],g=Object(n.useState)(t),E=Object(Ue.a)(g,2),v=E[0],h=E[1];function b(a){e.requestScore(a||t._id,h(Object(d.a)(Object(d.a)({},v),e.lines.find(function(e){return e._id===a})||t)),function(){return s.a.error("Falha ao fazer filtragem")})}Object(n.useEffect)(function(){e.requestLines(),e.requestScore()},[]);var O=[t].concat(Object(S.a)(e.lines));return o.a.createElement(Re.a,{item:!0,className:a.container},o.a.createElement(ca.a,null,o.a.createElement(Re.a,{justify:"space-between",alignItems:"center",container:!0,wrap:"nowrap",className:a.container},o.a.createElement(qe.a,{variant:"h5"},"Pontua\xe7\xe3o das linhas"),o.a.createElement(Re.a,null,"all"!==v._id&&e.score.some(function(e){return e})&&o.a.createElement(Ke.a,{color:"primary",variant:"outlined",onClick:function(){return f({open:!0,id:v._id})}},"Ver coment\xe1rios"),o.a.createElement(Ke.a,{onClick:function(){return l(!0)}},"Filtro: ",v.number," - ",v.description),o.a.createElement(Lt.a,{onClick:function(){return b()}},o.a.createElement(Xn.a,null)))),o.a.createElement(wt.a,null),o.a.createElement(Re.a,{container:!0,justify:"center",alignItems:"center",style:{minHeight:200}},e.errorToLoadScore?o.a.createElement(Lt.a,{onClick:function(){return b()}},o.a.createElement(Xn.a,null)):e.isLoadingScore?o.a.createElement(Jn.a,{height:200,width:400}):e.score.every(function(e){return!e})?o.a.createElement(qe.a,{variant:"h5"},"Sem registro de score"):o.a.createElement(Re.a,{container:!0,item:!0,sm:5},o.a.createElement($n.a,{data:{datasets:[{data:e.score,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#56ff5e","#6756ff"]}],labels:["1 estrela","2 estrelas","3 estrelas","4 estrelas","5 estrelas"]}})))),o.a.createElement(pn,{open:i,options:O,title:"Filtrar",textCancel:"Cancelar",textConfirm:"Ok",value:v._id,onClose:function(e){l(!1),e&&b(e)}}),o.a.createElement(to,{idLine:p.id,open:p.open,onClose:function(){return f({open:!1,id:""})}}))});var no=Object(Me.b)(function(e){return{isLoadingTotalUsers:e.home.isLoadingTotalUsers,totalUsers:e.home.totalUsers,errorLoadTotalUsers:e.home.errorLoadTotalUsers,totalDevices:e.home.totalDevices,isLoadingTotalDevices:e.home.isLoadingTotalDevices,errorLoadTotalDevices:e.home.errorLoadTotalDevices,totalLines:e.home.totalLines,isLoadingTotalLines:e.home.isLoadingTotalLines,errorLoadTotalLines:e.home.errorLoadTotalLines}},{requestTotalUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console.log;return function(t){t(H(!0)),t(W(!1)),O.get("user/count").then(function(e){var a;t(H(!1)),t((a=e.data.count,{type:L,payload:{value:a}}))}).catch(function(a){e(a),t(H(!1)),t(W(!0))})}},requestTotalDevices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console.log;return function(t){t(z(!1)),t(V(!0)),O.get("device/count").then(function(e){var a;t(V(!1)),t((a=e.data.count,{type:I,payload:{value:a}}))}).catch(function(a){e(a),t(V(!1)),t(z(!0))})}},requestTotalLines:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console.log;return function(t){t(J(!1)),t(Y(!0)),O.get("line/count").then(function(e){var a;t(Y(!1)),t((a=e.data.count,{type:_,payload:{value:a}}))}).catch(function(a){e(a),t(Y(!1)),t(J(!0))})}}})(function(e){var t=Et(),a=rt();return Object(n.useEffect)(function(){e.requestTotalUsers(),e.requestTotalDevices(),e.requestTotalLines()},[]),o.a.createElement(Na,null,o.a.createElement(Re.a,{className:a.maxWidth},o.a.createElement(Re.a,{className:t.contentCard,justify:"space-between",container:!0},o.a.createElement(Zn,{buttonError:function(){return e.requestTotalDevices()},error:e.errorLoadTotalDevices,isLoading:e.isLoadingTotalDevices,icon:"location_on",title:"Total de dispositivos",content:e.totalDevices}),o.a.createElement(Zn,{buttonError:function(){return e.requestTotalLines()},error:e.errorLoadTotalLines,isLoading:e.isLoadingTotalLines,styleIcon:{backgroundColor:"rgb(251, 140, 0)"},icon:"directions",title:"Total de linhas",content:e.totalLines}),o.a.createElement(Zn,{buttonError:function(){return e.requestTotalUsers()},error:e.errorLoadTotalUsers,isLoading:e.isLoadingTotalUsers,textColors:"#FFF",styleIcon:{backgroundColor:"#FFF",color:"#000"},styleCard:{backgroundColor:"#3f51b5",color:"#FFF"},icon:"people_outline",title:"Total de usu\xe1rios",content:e.totalUsers})),o.a.createElement(ao,null)))}),oo=Object(Me.b)(function(e){return{usersNotAuthorized:e.home.usersNotAuthorized,user:e.home.user}},{requestEmployeeToEnable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console.log;return function(t){O.get("employee/not_authorized").then(function(e){return t((a=e.data,{type:U,payload:{value:a}}));var a}).catch(e)}},requestUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console.log;return function(t){O.get("employee/current").then(function(e){e.data||v.removeUser(),t($(e.data))}).catch(e)}},logout:function(){return{type:F,payload:{value:{email:"",name:"",role:""}}}}})(function(e){var t=e.requestEmployeeToEnable,a=e.usersNotAuthorized,r=e.requestUser,c=e.logout,i=rt(),u=Et(),m=Object(n.useState)(!1),d=Object(Ue.a)(m,2),p=d[0],f=d[1],g=Object(n.useState)(!1),E=Object(Ue.a)(g,2),h=E[0],b=E[1],O=Object(n.useState)(!1),N=Object(Ue.a)(O,2),j=N[0],y=N[1],C=Object(n.useState)(null),D=Object(Ue.a)(C,2),w=D[0],S=D[1],T=Object(n.useState)(!1),L=Object(Ue.a)(T,2),A=L[0],I=L[1],P=function(){return f(!p)},x=function(){return b(!h)};return Object(n.useEffect)(function(){if(v.getUser()){var a=!0,n=function(){a&&e.location.pathname===_t.HOME&&s.a.error("Erro de comunica\xe7\xe3o com servidor, verique sua conex\xe3o"),a=!1};t(n),r(n)}else y(!0)},[e.location]),j?o.a.createElement(l.a,{to:_t.LOGIN}):o.a.createElement(Na,{onlyToken:!0},o.a.createElement(Re.a,{className:i.maxContainer,container:!0,item:!0,direction:"column",wrap:"nowrap",alignItems:"center"},o.a.createElement(Vn,null),o.a.createElement($t,{onDrawer:I,handleClose:P,usersNotAuthorized:a,onSelectedUser:function(e){S(e),x()}}),o.a.createElement(pt,{transition:"Slide",title:"Aten\xe7\xe3o",open:p,onClose:P,message:"Deseja sair da aplica\xe7ao?",negativeButton:"N\xe3o",positiveButton:"Sim",negativeAction:P,positiveAction:function(){c(),P(),v.removeUser(),y(!0)}}),o.a.createElement(ta,{message:"Deseja aprovar a entrada desse usu\xe1rio no sistema?",messageCheckBox:"Aprovar usu\xe1rio como admin?",success:function(){b(!1),t(),s.a.success("Usu\xe1rio aprovado com sucesso")},error:function(){b(!1),s.a.error("Falha ao aprovar usu\xe1rio no sistema")},user:w,open:h,negativeAction:x}),o.a.createElement(Re.a,{item:!0,container:!0,className:Object(zt.a)(u.content,Object(Ze.a)({},u.contentShift,A))},o.a.createElement(l.d,null,o.a.createElement(l.b,{exact:!0,path:_t.HOME,component:no}),o.a.createElement(l.b,{exact:!0,path:_t.MAP,component:Ma}),o.a.createElement(l.b,{path:_t.EMPLOYEES,component:ha}),o.a.createElement(l.b,{path:_t.ACCOUNT,component:Oa}),o.a.createElement(l.b,{path:_t.HISTORY,component:ya}),o.a.createElement(l.b,{path:_t.SUGGESTION,component:za}),o.a.createElement(l.b,{path:_t.DEVICES,component:hn}),o.a.createElement(l.b,{path:_t.LINES,component:Pn}),o.a.createElement(l.b,{path:_t.NEWS,component:Wn}),o.a.createElement(l.a,{from:"*",to:_t.HOME})))))});var ro=function(){return s.a.configure({position:s.a.POSITION.BOTTOM_CENTER}),o.a.createElement(Me.a,{store:ke},o.a.createElement(i.a,null,o.a.createElement(l.d,null,o.a.createElement(l.b,{path:"/login",component:ot}),o.a.createElement(l.b,{path:"/home",component:oo}),o.a.createElement(l.a,{from:"*",to:"/login"}),o.a.createElement(l.a,{from:"/",to:"/login"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(ro,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},636:function(e,t,a){e.exports=a.p+"static/media/google-maps.24ebd30f.png"},637:function(e,t,a){e.exports=a.p+"static/media/connected_world.73ac2c2d.svg"},638:function(e,t,a){e.exports=a.p+"static/media/logo.af9c6ac7.png"},641:function(e,t,a){e.exports=a.p+"static/media/bus.f1a35d33.png"},658:function(e,t,a){e.exports=a(1173)},663:function(e,t,a){},664:function(e,t,a){},900:function(e,t){},902:function(e,t){},964:function(e,t){},966:function(e,t){},988:function(e,t){},989:function(e,t){},991:function(e,t){},993:function(e,t){}},[[658,1,2]]]);
//# sourceMappingURL=main.f9d8c247.chunk.js.map